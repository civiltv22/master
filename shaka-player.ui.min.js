!function(){var e="undefined"!=typeof window?window:global,t={};if(!function(R,a,o){function s(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var l="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var c=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof R&&R,"object"==typeof self&&self,"object"==typeof a&&a];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function d(e,t){if(t)e:{var n=c;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))break e;n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&l(n,e,{configurable:!0,writable:!0,value:t})}}function p(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function Ee(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:s(e)}}function I(e){if(!(e instanceof Array)){e=Ee(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}d("Symbol",function(e){function n(e,t){this.g=e,l(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;n.prototype.toString=function(){return this.g};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new n(i+(t||"")+"_"+r++,t)}}),d("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=c[t[n]];"function"==typeof i&&"function"!=typeof i.prototype[e]&&l(i.prototype,e,{configurable:!0,writable:!0,value:function(){return p(s(this))}})}return e});var g,y="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{e:{var b={};try{b.__proto__={a:!0},g=b.a;break e}catch(e){}g=!1}n=g?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var E=n;function e(e,t){if(e.prototype=y(t.prototype),e.prototype.constructor=e,E)E(e,t);else for(var n in t){var i;"prototype"!=n&&(Object.defineProperties?(i=Object.getOwnPropertyDescriptor(t,n))&&Object.defineProperty(e,n,i):e[n]=t[n])}e.xj=t.prototype}function A(){this.s=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.C=this.i=null}function w(e){if(e.s)throw new TypeError("Generator is already running");e.s=!0}function S(e,t){e.i={Df:t,Mf:!0},e.g=e.m||e.j}function Te(e,t,n){return e.g=n,{value:t}}function Ae(e){e.g=0}function we(e,t,n){e.m=t,null!=n&&(e.j=n)}function x(e){e.m=0,e.j=2}function Se(e,t,n){e.g=t,e.m=n||0}function xe(e,t){return e.m=t||0,t=e.i.Df,e.i=null,t}function Ce(e){e.C=[e.i],e.m=0,e.j=0}function Me(e,t){var n=e.C.splice(0)[0];(n=e.i=e.i||n)?n.Mf?e.g=e.m||e.j:null!=n.D&&e.j<n.D?(e.g=n.D,e.i=null):e.g=e.j:e.g=t}function z(e){this.g=new A,this.h=e}function V(t,e,n,i){try{var r=e.call(t.g.l,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.g.s=!1,r;var a=r.value}catch(e){return t.g.l=null,S(t.g,e),H(t)}return t.g.l=null,i.call(t.g,a),H(t)}function H(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.s=!1,{value:e.value,done:!1}}catch(e){t.g.h=void 0,S(t.g,e)}if(t.g.s=!1,t.g.i){if(e=t.g.i,t.g.i=null,e.Mf)throw e.Df;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function X(i){this.next=function(e){return w(i.g),e=i.g.l?V(i,i.g.l.next,e,i.g.B):(i.g.B(e),H(i))},this.throw=function(e){return w(i.g),e=i.g.l?V(i,i.g.l.throw,e,i.g.B):(S(i.g,e),H(i))},this.return=function(e){return e=e,w((t=i).g),(n=t.g.l)?V(t,"return"in n?n.return:function(e){return{value:e,done:!0}},e,t.g.return):(t.g.return(e),H(t));var t,n},this[Symbol.iterator]=function(){return this}}function W(t){function r(e){return t.next(e)}function a(e){return t.throw(e)}return new Promise(function(n,i){!function e(t){t.done?n(t.value):Promise.resolve(t.value).then(r,a).then(e,i)}(t.next())})}function Ie(e){return W(new X(new z(e)))}function q(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $(t,n){t instanceof String&&(t+="");var i=0,r=!1,e={next:function(){var e;return!r&&i<t.length?(e=i++,{value:n(e,t[e]),done:!1}):{done:r=!0,value:void 0}}};return e[Symbol.iterator]=function(){return e},e}function Q(e,t,n){for(var i=(e=e instanceof String?String(e):e).length,r=0;r<i;r++){var a=e[r];if(t.call(n,a,r,e))return{Kf:r,v:a}}return{Kf:-1,v:void 0}}function J(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}A.prototype.B=function(e){this.h=e},A.prototype.return=function(e){this.i={return:e},this.g=this.j},A.prototype.D=function(e){this.g=e},d("Promise",function(e){function o(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.g=null}function s(t){return t instanceof o?t:new o(function(e){e(t)})}if(e)return e;t.prototype.h=function(e){var t;null==this.g&&(this.g=[],(t=this).i(function(){t.l()})),this.g.push(e)};var n=c.setTimeout,r=(t.prototype.i=function(e){n(e,0)},t.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},t.prototype.j=function(e){this.i(function(){throw e})},o.prototype.j=function(){function e(t){return function(e){i||(i=!0,t.call(n,e))}}var n=this,i=!1;return{resolve:e(this.H),reject:e(this.l)}},o.prototype.H=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof o)this.J(e);else{switch(typeof e){case"object":var t=null!=e;break;case"function":t=!0;break;default:t=!1}t?this.G(e):this.m(e)}},o.prototype.G=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.K(t,e):this.m(e)},o.prototype.l=function(e){this.B(2,e)},o.prototype.m=function(e){this.B(1,e)},o.prototype.B=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.I(),this.C()},o.prototype.I=function(){var t=this;n(function(){var e;t.F()&&void 0!==(e=c.console)&&e.error(t.i)},1)},o.prototype.F=function(){if(this.s)return!1;var e=c.CustomEvent,t=c.Event,n=c.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=c.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},o.prototype.C=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)r.h(this.g[e]);this.g=null}},new t);return o.prototype.J=function(e){var t=this.j();e.od(t.resolve,t.reject)},o.prototype.K=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},o.prototype.then=function(e,t){function n(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){r(e)}}:e}var i,r,a=new o(function(e,t){i=e,r=t});return this.od(n(e,i),n(t,r)),a},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.od=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?r.h(n):this.g.push(n),this.s=!0},o.resolve=s,o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=Ee(r),i=n.next();!i.done;i=n.next())s(i.value).od(e,t)})},o.all=function(e){var t=Ee(e),a=t.next();return a.done?s([]):new o(function(n,e){for(var i=[],r=0;i.push(void 0),r++,s(a.value).od(function(t){return function(e){i[t]=e,0==--r&&n(i)}}(i.length-1),e),!(a=t.next()).done;);})},o}),d("WeakMap",function(i){function e(e){if(this.g=(s+=Math.random()+1).toString(),e){e=Ee(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"==t&&null!==e||"function"==t}function a(e){var t;Y(e,o)||(t=new n,l(e,o,{value:t}))}function t(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&a(e),t(e))})}if(function(){if(i&&Object.seal)try{var e=Object.seal({}),t=Object.seal({}),n=new i([[e,2],[t,3]]);return 2!=n.get(e)||3!=n.get(t)?void 0:(n.delete(e),n.set(t,4),!n.has(e)&&4==n.get(t))}catch(e){return}}())return i;var o="$jscomp_hidden_"+Math.random(),s=(t("freeze"),t("preventExtensions"),t("seal"),0);return e.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(a(e),Y(e,o))return e[o][this.g]=t,this;throw Error("WeakMap key fail: "+e)},e.prototype.get=function(e){return r(e)&&Y(e,o)?e[o][this.g]:void 0},e.prototype.has=function(e){return r(e)&&Y(e,o)&&Y(e[o],this.g)},e.prototype.delete=function(e){return!!(r(e)&&Y(e,o)&&Y(e[o],this.g))&&delete e[o][this.g]},e}),d("Map",function(r){function n(){var e={};return e.mb=e.next=e.head=e}function e(e,t){var n=e.g;return p(function(){if(n){for(;n.head!=e.g;)n=n.mb;if(n.next!=n.head)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}})}function i(e,t){var n=t&&typeof t,i=("object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t,e.h[n]);if(i&&Y(e.h,n))for(e=0;e<i.length;e++){var r=i[e];if(t!=t&&r.key!=r.key||t===r.key)return{id:n,list:i,index:e,wa:r}}return{id:n,list:i,index:-1,wa:void 0}}function t(e){if(this.h={},this.g=n(),this.size=0,e){e=Ee(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}if(function(){if(r&&"function"==typeof r&&r.prototype.entries&&"function"==typeof Object.seal)try{var e=Object.seal({x:4}),t=new r(Ee([[e,"s"]]));if("s"!=t.get(e)||1!=t.size||t.get({x:4})||t.set({x:4},"t")!=t||2!=t.size)return;var n=t.entries(),i=n.next();return i.done||i.value[0]!=e||"s"!=i.value[1]?void 0:!((i=n.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!n.next().done)}catch(e){return}}())return r;var a=new WeakMap,o=(t.prototype.set=function(e,t){var n=i(this,e=0===e?0:e);return n.list||(n.list=this.h[n.id]=[]),n.wa?n.wa.value=t:(n.wa={next:this.g,mb:this.g.mb,head:this.g,key:e,value:t},n.list.push(n.wa),this.g.mb.next=n.wa,this.g.mb=n.wa,this.size++),this},t.prototype.delete=function(e){return!(!(e=i(this,e)).wa||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.wa.mb.next=e.wa.next,e.wa.next.mb=e.wa.mb,e.wa.head=null,this.size--,!0)},t.prototype.clear=function(){this.h={},this.g=this.g.mb=n(),this.size=0},t.prototype.has=function(e){return!!i(this,e).wa},t.prototype.get=function(e){return(e=i(this,e).wa)&&e.value},t.prototype.entries=function(){return e(this,function(e){return[e.key,e.value]})},t.prototype.keys=function(){return e(this,function(e){return e.key})},t.prototype.values=function(){return e(this,function(e){return e.value})},t.prototype.forEach=function(e,t){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},t.prototype[Symbol.iterator]=t.prototype.entries,0);return t}),d("Array.prototype.keys",function(e){return e||function(){return $(this,function(e){return e})}}),d("Set",function(r){function e(e){if(this.g=new Map,e){e=Ee(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(r&&"function"==typeof r&&r.prototype.entries&&"function"==typeof Object.seal)try{var e=Object.seal({x:4}),t=new r(Ee([e]));if(!t.has(e)||1!=t.size||t.add(e)!=t||1!=t.size||t.add({x:4})!=t||2!=t.size)return;var n=t.entries(),i=n.next();return i.done||i.value[0]!=e||i.value[1]!=e?void 0:!(i=n.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&n.next().done}catch(e){return}}()?r:(e.prototype.add=function(e){return this.g.set(e=0===e?0:e,e),this.size=this.g.size,this},e.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},e.prototype.clear=function(){this.g.clear(),this.size=0},e.prototype.has=function(e){return this.g.has(e)},e.prototype.entries=function(){return this.g.entries()},e.prototype.keys=e.prototype.values=function(){return this.g.values()},e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,n){var i=this;this.g.forEach(function(e){return t.call(n,e,e,i)})},e)}),d("Array.from",function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var i=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof r){e=r.call(e);for(var a=0;!(r=e.next()).done;)i.push(t.call(n,r.value,a++))}else for(r=e.length,a=0;a<r;a++)i.push(t.call(n,e[a],a));return i}}),d("Array.prototype.findIndex",function(e){return e||function(e,t){return Q(this,e,t).Kf}}),d("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),d("Array.prototype.includes",function(e){return e||function(e,t){var n=this,i=(n=n instanceof String?String(n):n).length;for((t=t||0)<0&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}),d("String.prototype.includes",function(e){return e||function(e,t){return-1!==J(this,e,"includes").indexOf(e,t||0)}}),d("Array.prototype.find",function(e){return e||function(e,t){return Q(this,e,t).v}}),d("String.prototype.startsWith",function(e){return e||function(e,t){var n=J(this,e,"startsWith"),i=n.length,r=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<r&&t<i;)if(n[t++]!=e[a++])return!1;return r<=a}});var Z="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Y(i,r)&&(e[r]=i[r])}return e},ee=(d("Object.assign",function(e){return e||Z}),d("Array.prototype.values",function(e){return e||function(){return $(this,function(e,t){return t})}}),d("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(e){return Promise.resolve(t()).then(function(){return e})},function(e){return Promise.resolve(t()).then(function(){throw e})})}}),d("Array.prototype.entries",function(e){return e||function(){return $(this,function(e,t){return[e,t]})}}),d("String.prototype.repeat",function(e){return e||function(e){var t=J(this,null,"repeat");if(e<0||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}}),d("Number.isNaN",function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}}),d("Object.values",function(e){return e||function(e){var t,n=[];for(t in e)Y(e,t)&&n.push(e[t]);return n}}),d("Math.log2",function(e){return e||function(e){return Math.log(e)/Math.LN2}}),d("Math.trunc",function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return e<0?-t:t}}),d("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Y(e,t)&&n.push([t,e[t]]);return n}}),this||self);function t(e,t){e=e.split(".");var n,i=ee;e[0]in i||void 0===i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function P(e,t){if(t)if(t instanceof Map)for(var n=Ee(t.keys()),i=n.next();!i.done;i=n.next())i=i.value,Object.defineProperty(this,i,{value:t.get(i),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=(R.performance&&R.performance.now?R.performance:Date).now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function te(e){var t,n=new P(e.type);for(t in e)Object.defineProperty(n,t,{value:e[t],writable:!0,enumerable:!0});return n}P.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},P.prototype.stopImmediatePropagation=function(){this.g=!0},P.prototype.stopPropagation=function(){},t("shaka.util.FakeEvent",P);var ne={Wh:"abrstatuschanged",Xh:"adaptation",Yh:"buffering",bi:"downloadfailed",ci:"downloadheadersreceived",di:"drmsessionupdate",mi:"emsg",Qi:"prft",Error:"error",ni:"expirationupdated",ri:"gapjumped",xi:"loaded",zi:"loading",Ei:"manifestparsed",Fi:"mediaqualitychanged",Metadata:"metadata",Ki:"onstatechange",Li:"onstateidle",Vi:"ratechange",aj:"segmentappended",bj:"sessiondata",cj:"stalldetected",dj:"streaming",ej:"textchanged",fj:"texttrackvisibility",gj:"timelineregionadded",hj:"timelineregionenter",ij:"timelineregionexit",jj:"trackschanged",oj:"unloading",qj:"variantchanged"};function ie(){}function re(){}function k(){}function ae(e){var t=q.apply(1,arguments);se.has(e)||(se.add(e),k.apply(ie,I(t)))}function oe(){}var n,se=new Set;function ue(){this.g={}}function h(){this.ra=new ue,this.Hd=this}function Le(e,t){for(var n=[],i=(e=Ee(e)).next();!i.done;i=e.next())n.push(t(i.value));return n}function le(e,t){for(var n=(e=Ee(e)).next();!n.done;n=e.next())if(t(n.value))return 1}function ce(e,t){for(var n=[],i=(e=Ee(e)).next();!i.done;i=e.next())t(i=i.value)&&n.push(i);return n}R.console&&R.console.log.bind&&((n={})[1]=console.error.bind(console),n[2]=console.warn.bind(console),n[3]=console.info.bind(console),n[4]=console.log.bind(console),n[5]=console.debug.bind(console),n[6]=console.debug.bind(console),k=n[2],re=n[1]),(n=ue.prototype).push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},n.get=function(e){return(e=this.g[e])?e.slice():null},n.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(e){return e!=t}),0==this.g[e].length&&delete this.g[e])},n.forEach=function(e){for(var t in this.g)e(t,this.g[t])},n.size=function(){return Object.keys(this.g).length},n.keys=function(){return Object.keys(this.g)},h.prototype.addEventListener=function(e,t){this.ra&&this.ra.push(e,t)},h.prototype.removeEventListener=function(e,t){this.ra&&this.ra.remove(e,t)},h.prototype.dispatchEvent=function(e){if(!this.ra)return!0;for(var t=this.ra.get(e.type)||[],n=(t=Ee(t=(n=this.ra.get("All"))?t.concat(n):t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Hd,e.currentTarget=this.Hd;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(e){}if(e.g)break}return e.defaultPrevented},h.prototype.release=function(){this.ra=null};var de=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function he(e){e instanceof he?(fe(this,e.Wa),this.Tb=e.Tb,this.ab=e.ab,pe(this,e.nc),this.Ha=e.Ha,ge(this,e.g.clone()),this.Hb=e.Hb):e&&(e=String(e).match(de))?(fe(this,e[1]||"",!0),this.Tb=me(e[2]||""),this.ab=me(e[3]||"",!0),pe(this,e[4]),this.Ha=me(e[5]||"",!0),ge(this,e[6]||"",!0),this.Hb=me(e[7]||"")):this.g=new De(null)}function fe(e,t,n){e.Wa=n?me(t,!0):t,e.Wa&&(e.Wa=e.Wa.replace(/:$/,""))}function pe(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.nc=t}else e.nc=null}function ge(e,t,n){t instanceof De?e.g=t:(n||(t=ve(t,_e)),e.g=new De(t))}function me(e,t){return e?(t?decodeURI:decodeURIComponent)(e):""}function ve(e,t,n){return null!=e?(e=encodeURI(e).replace(t,ye),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function ye(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(n=he.prototype).Wa="",n.Tb="",n.ab="",n.nc=null,n.Ha="",n.Hb="",n.toString=function(){var e,t=[],n=this.Wa;return n&&t.push(ve(n,be,!0),":"),(n=this.ab)&&(t.push("//"),(e=this.Tb)&&t.push(ve(e,be,!0),"@"),t.push(encodeURIComponent(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.nc)&&t.push(":",String(n))),(n=this.Ha)&&(this.ab&&"/"!=n.charAt(0)&&t.push("/"),t.push(ve(n,"/"==n.charAt(0)?Re:Ne,!0))),(n=this.g.toString())&&t.push("?",n),(n=this.Hb)&&t.push("#",ve(n,Pe)),t.join("")},n.resolve=function(e){var t=this.clone(),n=("data"===t.Wa&&(t=new he),!!e.Wa),i=(n?fe(t,e.Wa):n=!!e.Tb,n?t.Tb=e.Tb:n=!!e.ab,n?t.ab=e.ab:n=null!=e.nc,e.Ha);if(n)pe(t,e.nc);else if(n=!!e.Ha)if("/"!=i.charAt(0)&&(this.ab&&!this.Ha?i="/"+i:-1!=(r=t.Ha.lastIndexOf("/"))&&(i=t.Ha.substr(0,r+1)+i)),".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){for(var r=0==i.lastIndexOf("/",0),i=i.split("/"),a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}i=a.join("/")}return n?t.Ha=i:n=""!==e.g.toString(),n?ge(t,e.g.clone()):n=!!e.Hb,n&&(t.Hb=e.Hb),t},n.clone=function(){return new he(this)};var be=/[#\/\?@]/g,Ne=/[#\?:]/g,Re=/[#\?]/g,_e=/[#\?@]/g,Pe=/#/g;function De(e){this.g=e||null}function Oe(e){if(!e.Ca&&(e.Ca={},e.rd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var i,r=t[n].indexOf("="),a=null;0<=r?(i=t[n].substring(0,r),a=t[n].substring(r+1)):i=t[n],i=decodeURIComponent(i.replace(/\+/g," ")),a=a||"",e.add(i,decodeURIComponent(a.replace(/\+/g," ")))}}function ke(e,t,n){var i=q.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1}function Ue(e,t){return e.concat(t)}function je(){}function Be(e){return null!=e}function Fe(e,t){if(0==t.length)return e;var n=t.map(function(e){return new he(e)});return e.map(function(e){return new he(e)}).map(function(t){return n.map(function(e){return t.resolve(e)})}).reduce(Ue,[]).map(function(e){return e.toString()})}function Ge(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function Ke(e,t){if(1==t.length)return t[0];if(null!=(e=ze(e,t)))return e;throw new ke(2,4,4025,t)}function ze(e,t){for(var n=Ee(He[e]),i=n.next();!i.done;i=n.next())for(var i=i.value,r=Ee(t),a=r.next();!a.done;a=r.next())if(a=a.value,i.test(a.trim()))return a.trim();return e==D?"":null}(n=De.prototype).Ca=null,n.rd=null,n.add=function(e,t){Oe(this),this.g=null;var n=this.Ca.hasOwnProperty(e)?this.Ca[e]:null;return n||(this.Ca[e]=n=[]),n.push(t),this.rd++,this},n.set=function(e,t){return Oe(this),this.g=null,this.Ca.hasOwnProperty(e)?this.Ca[e]=[t]:this.add(e,t),this},n.toString=function(){if(this.g)return this.g;if(!this.Ca)return"";var e,t=[];for(e in this.Ca)for(var n=encodeURIComponent(e),i=this.Ca[e],r=0;r<i.length;r++){var a=n;""!==i[r]&&(a+="="+encodeURIComponent(i[r])),t.push(a)}return this.g=t.join("&")},n.clone=function(){var e=new De;if(e.g=this.g,this.Ca){var t,n={};for(t in this.Ca)n[t]=this.Ca[t].concat();e.Ca=n,e.rd=this.rd}return e},ke.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},t("shaka.util.Error",ke),ke.Severity={RECOVERABLE:1,CRITICAL:2},ke.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},ke.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var D="text",Ve={Ma:"video",jd:"audio",ha:D,Ac:"image",Th:"application"},He={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cx]$/,/^[du]dts$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvhe/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function Xe(){}function We(e,t){return e=C(e),t=C(t),e.split("-")[0]==t.split("-")[0]}function qe(e,t){return e=C(e),t=C(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function Ye(e,t){return e=C(e),t=C(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function C(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=tt.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function $e(e,t){var n=Je(e),i=Je(t);return e!=n&&t!=i&&n==i}function Qe(e,t){return e=C(e),(t=C(t))==e?4:qe(t,e)?3:Ye(t,e)?2:qe(e,t)?1:0}function Je(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),tt.get(e)||e}function Ze(e){return e.language?C(e.language):e.audio&&e.audio.language?C(e.audio.language):e.video&&e.video.language?C(e.video.language):"und"}function et(e,t){e=C(e);var n=new Set,i=Ee(t);for(t=i.next();!t.done;t=i.next())n.add(C(t.value));for(t=(i=Ee(n)).next();!t.done;t=i.next())if((t=t.value)==e)return t;for(t=(i=Ee(n)).next();!t.done;t=i.next())if(qe(t=t.value,e))return t;for(t=(i=Ee(n)).next();!t.done;t=i.next())if(Ye(t=t.value,e))return t;for(t=(n=Ee(n)).next();!t.done;t=n.next())if(qe(e,t=t.value))return t;return null}t("shaka.util.LanguageUtils",Xe),Xe.findClosestLocale=et,Xe.getLocaleForVariant=Ze,Xe.getLocaleForText=function(e){return C(e.language||"und")},Xe.getBase=Je,Xe.relatedness=Qe,Xe.areSiblings=$e,Xe.normalize=C,Xe.isSiblingOf=Ye,Xe.isParentOf=qe,Xe.areLanguageCompatible=We,Xe.areLocaleCompatible=function(e,t){return(e=C(e))==(t=C(t))};var tt=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function nt(e){h.call(this),this.j=C(e),this.i=new Map,this.g=new Set,this.h=new Map}function it(n){for(var e=n.h,t=n.j,i=n.g,r=new Set,a={},o=Ee(i),s=o.next();!s.done;a={Xb:a.Xb},s=o.next()){a.Xb=s.value,r.add(a.Xb),r.add(Je(a.Xb)),(s=ce(e.keys(),function(t){return function(e){return $e(e,t.Xb)}}(a))).sort();for(var u=Ee(s),s=u.next();!s.done;s=u.next())r.add(s.value);for((s=ce(e.keys(),function(t){return function(e){return Je(e)==t.Xb}}(a))).sort(),s=(u=Ee(s)).next();!s.done;s=u.next())r.add(s.value)}for(r.add(t),t=[],s=(r=Ee(r)).next();!s.done;s=r.next())(s=e.get(s.value))&&t.push(s);for(t.reverse(),n.i.clear(),s=(e=Ee(t)).next();!s.done;s=e.next())s.value.forEach(function(e,t){n.i.set(t,e)});for(e=n.i.keys(),r=new Set,s=(t=Ee(n.g)).next();!s.done;s=t.next()){s=n.h.get(s.value)||new Map;{l=void 0;c=void 0;d=void 0;h=void 0;var l=s;var c=e;var d=r;for(var h=(c=Ee(c)).next();!h.done;h=c.next())h=h.value,l.get(h)||d.add(h)}}0<r.size&&(i=(new Map).set("locales",Array.from(i)).set("missing",Array.from(r)),n.dispatchEvent(new P("missing-localizations",i)))}e(nt,h),(n=nt.prototype).release=function(){h.prototype.release.call(this)},n.wf=function(e){var t=this;this.g.clear();for(var n=(e=Ee(e)).next();!n.done;n=e.next())this.g.add(C(n.value));it(this),(e=ce(this.g,function(e){return!t.h.has(e)})).length&&this.dispatchEvent(new P("unknown-locales",(new Map).set("locales",e))),e=ce(this.g,function(e){return t.h.has(e)}),e=(new Map).set("locales",e.length?e:[this.j]),this.dispatchEvent(new P("locale-changed",e))},n.ba=function(e,t,n){e=C(e),void 0===n&&(n=rt);var i=this.h.get(e)||new Map;return t.forEach(function(e,t){i.has(t)&&n!=rt||i.set(t,e)}),this.h.set(e,i),it(this),this.dispatchEvent(new P("locale-updated")),this},n.Dh=function(e){for(var t=Ee(e.keys()),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,this.resolve(n))},n.resolve=function(e){var t=this.i.get(e);return t||(e=(new Map).set("locales",Array.from(this.g)).set("missing",e),this.dispatchEvent(new P("unknown-localization",e)),"")},t("shaka.ui.Localization",nt),nt.prototype.resolveDictionary=nt.prototype.Dh,nt.prototype.insert=nt.prototype.ba,nt.prototype.changeLocale=nt.prototype.wf;var rt=1,at=(nt.ConflictResolution={USE_OLD:0,USE_NEW:rt},nt.UNKNOWN_LOCALES="unknown-locales",nt.UNKNOWN_LOCALIZATION="unknown-localization",nt.MISSING_LOCALIZATIONS="missing-localizations",nt.LOCALE_CHANGED="locale-changed",nt.LOCALE_UPDATED="locale-updated",{Yi:"SKIP_TO_LIVE",hg:"LIVE",Rh:"AD_TIME",nj:"UNRECOGNIZED_LANGUAGE",Hi:"OFF",ji:"EXIT_FULL_SCREEN",Zh:"CAPTIONS",ig:"SUBTITLE_FORCED",ei:"ENTER_LOOP_MODE",Mi:"PAUSE",Ii:"ON",oi:"FAST_FORWARD",Ti:"RESOLUTION",BACK:"BACK",Pi:"PLAYBACK_RATE",wi:"LOOP",Ci:"MULTIPLE_LANGUAGES",li:"EXIT_PICTURE_IN_PICTURE",Ni:"PICTURE_IN_PICTURE",$i:"STATISTICS",gi:"ENTER_PICTURE_IN_PICTURE",Di:"MUTE",AD_PROGRESS:"AD_PROGRESS",Sh:"AIRPLAY",$h:"CAST",mj:"UNMUTE",Uh:"AUTO_QUALITY",Gi:"NOT_APPLICABLE",Oi:"PLAY",lj:"UNDETERMINED_LANGUAGE",Wi:"SEEK",Qh:"AD_DURATION",Xi:"SKIP_AD",pj:"VOLUME",Ui:"REWIND",ti:"LANGUAGE",Bi:"MORE_SETTINGS",Si:"REPLAY",Ri:"QUALITY",pi:"FULL_SCREEN",ki:"EXIT_LOOP_MODE"});function ot(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function st(e){return e.h/(1-Math.pow(e.g,e.i))}function ut(){this.h=new ot(2),this.j=new ot(5),this.g=0,this.i=128e3,this.l=16e3}function lt(e){if(ct.has(e))return ct.get(e);var t=MediaSource.isTypeSupported(e);return ct.set(e,t),t}ot.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},ut.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},ut.prototype.sample=function(e,t){var n;t<this.l||(n=8e3*t/e,e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n))},ut.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(st(this.h),st(this.j))};var ct=new Map;function dt(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function ht(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function ft(e,t,n){if(n=n||dt,e.length!=t.length)return!1;t=t.slice();for(var i={},r=(e=Ee(e)).next();!r.done;i={Td:i.Td},r=e.next()){if(i.Td=r.value,-1==(r=t.findIndex(function(t){return function(e){return n(t.Td,e)}}(i))))return!1;t[r]=t[t.length-1],t.pop()}return 0==t.length}function pt(e,t,n){if(n=n||dt,e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function _(e,t,n){this.startTime=e,this.direction=Tt,this.endTime=t,this.payload=n,this.region=new Nt,this.position=null,this.positionAlign=mt,this.size=0,this.textAlign=vt,this.writingMode=At,this.lineInterpretation=wt,this.line=null,this.lineHeight="",this.lineAlign=St,this.displayAlign=bt,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Ct,this.fontStyle=Mt,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}function gt(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!pt(e.nestedCues,t.nestedCues,gt))return!1}else if("region"==n||"cellResolution"==n){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!pt(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}_.prototype.clone=function(){var e,t=new _(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},t("shaka.text.Cue",_);var mt="auto",vt=(_.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:mt},"center"),yt={LEFT:"left",RIGHT:"right",CENTER:vt,START:"start",END:"end"},bt=(_.textAlign=yt,"after"),Et={BEFORE:"before",CENTER:"center",AFTER:bt},Tt=(_.displayAlign=Et,"ltr"),At=(_.direction={HORIZONTAL_LEFT_TO_RIGHT:Tt,HORIZONTAL_RIGHT_TO_LEFT:"rtl"},"horizontal-tb"),wt=(_.writingMode={HORIZONTAL_TOP_TO_BOTTOM:At,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"},0),St=(_.lineInterpretation={LINE_NUMBER:wt,PERCENTAGE:1},"start"),xt={CENTER:"center",START:St,END:"end"},It=(_.lineAlign=xt,{white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"}),kt=(_.defaultTextColor=It,{bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"}),Ct=(_.defaultTextBackgroundColor=kt,400),Mt=(_.fontWeight={NORMAL:Ct,BOLD:700},"normal"),Lt={NORMAL:Mt,ITALIC:"italic",OBLIQUE:"oblique"};function Nt(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Rt,this.scroll=_t}_.fontStyle=Lt,_.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},t("shaka.text.CueRegion",Nt);var Rt=1,_t=(Nt.units={PX:0,PERCENTAGE:Rt,LINES:2},"");function Pt(){}function Dt(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Ot(e)==Ot(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=O(e);t=O(t);for(var i=0;i<e.byteLength;i++)if(n[i]!=t[i])return!1;return!0}function Ot(e){return e instanceof ArrayBuffer?e:e.buffer}function Ut(e){return e instanceof ArrayBuffer?e:(0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e:new Uint8Array(e)).buffer}function O(e,t,n){return Bt(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function jt(e,t,n){return Bt(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function Bt(e,t,n,i){var r=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,r)),new i(Ot(e),t,Math.min(t+Math.max(n,0),r)-t)}function U(){var n,i,e=new Promise(function(e,t){n=e,i=t});return e.resolve=n,e.reject=i,e}function Ft(e){this.h=e,this.g=void 0}function Gt(e){this.h=e,this.g=null}function M(e){this.h=e,this.g=null}function Kt(){return!(!R.MediaSource||!MediaSource.isTypeSupported)}function zt(e){return""!=Qt().canPlayType(e)}function Vt(){return $t("Xbox One")}function Ht(){return $t("Tizen")}function Xt(){return $t("Web0S")&&$t("Chrome/38.0.2125.122 Safari/537.36")}function Wt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Ht()&&!$t("PC=EOS")&&!$t("VirginMedia")&&!qt()&&!$t("AFT")}function qt(){return $t("PlayStation 4")}function Yt(){if(!Wt())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return(e=e||navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function $t(e){return(navigator.userAgent||"").includes(e)}function Qt(){return Zt||(Jt=Jt||new M(function(){Zt=null}),(Zt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Zt=document.createElement("video")),Jt.R(1),Zt)}Nt.scrollMode={NONE:_t,UP:"up"},t("shaka.util.BufferUtils",Pt),Pt.toDataView=jt,Pt.toUint8=O,Pt.toArrayBuffer=Ut,Pt.equal=Dt,U.prototype.resolve=function(){},U.prototype.reject=function(){},Ft.prototype.value=function(){return null==this.g&&(this.g=this.h()),this.g},Gt.prototype.R=function(e){var t=this,n=(this.stop(),!0),i=null;return this.g=function(){R.clearTimeout(i),n=!1},i=R.setTimeout(function(){n&&t.h()},1e3*e),this},Gt.prototype.stop=function(){this.g&&(this.g(),this.g=null)},M.prototype.za=function(){return this.stop(),this.h(),this},M.prototype.R=function(e){var t=this;return this.stop(),this.g=new Gt(function(){t.h()}).R(e),this},M.prototype.ea=function(e){var t=this;return this.stop(),this.g=new Gt(function(){t.g.R(e),t.h()}).R(e),this},M.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},t("shaka.util.Timer",M),M.prototype.tickEvery=M.prototype.ea,M.prototype.tickAfter=M.prototype.R,M.prototype.tickNow=M.prototype.za;var Jt=null,Zt=null;function en(){}function tn(e){if(!e)return"";if(239==(e=O(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),R.TextDecoder&&!qt())return(e=(new TextDecoder).decode(e)).includes("ï¿½")&&re('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var i,r=65533;0==(128&e[n])?r=e[n]:e.length>=n+2&&192==(224&e[n])&&128==(192&e[n+1])?(r=(31&e[n])<<6|63&e[n+1],n+=1):e.length>=n+3&&224==(240&e[n])&&128==(192&e[n+1])&&128==(192&e[n+2])?(r=(15&e[n])<<12|(63&e[n+1])<<6|63&e[n+2],n+=2):e.length>=n+4&&240==(241&e[n])&&128==(192&e[n+1])&&128==(192&e[n+2])&&128==(192&e[n+3])&&(r=(7&e[n])<<18|(63&e[n+1])<<12|(63&e[n+2])<<6|63&e[n+3],n+=3),r<=65535?t+=String.fromCharCode(r):(i=1023&(r-=65536),t=(t+=String.fromCharCode(55296+(r>>10)))+String.fromCharCode(56320+i))}return t}function nn(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new ke(2,2,2004);n=Math.floor(e.byteLength/2);var i=new Uint16Array(n);e=jt(e);for(var r=0;r<n;r++)i[r]=e.getUint16(2*r,t);return sn.value()(i)}function rn(e){function t(e){return n.byteLength<=e||32<=n[e]&&n[e]<=126}if(!e)return"";var n=O(e);if(239==n[0]&&187==n[1]&&191==n[2])return tn(n);if(254==n[0]&&255==n[1])return nn(n.subarray(2),!1);if(255==n[0]&&254==n[1])return nn(n.subarray(2),!0);if(0==n[0]&&0==n[2])return nn(e,!1);if(0==n[1]&&0==n[3])return nn(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return tn(e);throw new ke(2,2,2003)}function an(e){if(R.TextEncoder&&!qt())return Ut((t=new TextEncoder).encode(e));e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return Ut(t)}function on(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=0;r<e.length;++r)i.setUint16(2*r,e.charCodeAt(r),t);return n}t("shaka.util.StringUtils",en),en.resetFromCharCode=function(){sn.g=void 0},en.toUTF16=on,en.toUTF8=an,en.fromBytesAutoDetect=rn,en.fromUTF16=nn,en.fromUTF8=tn;var sn=new Ft(function(){for(var e={rb:65536};0<e.rb;(e={rb:e.rb}).rb/=2)if(function(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(e){return}}(e.rb)){var i=e;return function(e){for(var t="",n=0;n<e.length;n+=i.rb)t+=String.fromCharCode.apply(null,e.subarray(n,n+i.rb));return t};return}return null});function un(){}function ln(e){return e=O(e),e=sn.value()(e),btoa(e)}function cn(e,t){return t=null==t||t,e=ln(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function dn(e){e=R.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function hn(e){for(var t=e.length/2,n=new Uint8Array(t),i=0;i<t;i++)n[i]=R.parseInt(e.substr(2*i,2),16);return n}function fn(e){var t=O(e);e="";for(var n=(t=Ee(t)).next();!n.done;n=t.next())e+=n=1==(n=(n=n.value).toString(16)).length?"0"+n:n;return e}function pn(){for(var e=q.apply(0,arguments),t=0,n=Ee(e),i=n.next();!i.done;i=n.next())t+=i.value.byteLength;for(t=new Uint8Array(t),n=0,i=(e=Ee(e)).next();!i.done;i=e.next())i=i.value,t.set(O(i),n),n+=i.byteLength;return t}function gn(){}t("shaka.util.Uint8ArrayUtils",un),un.concat=pn,un.toHex=fn,un.fromHex=hn,un.fromBase64=dn,un.toBase64=cn,un.toStandardBase64=ln,t("shaka.dependencies",gn),gn.has=function(e){return vn.has(e)},gn.add=function(e,t){if(!mn[e])throw Error(e+" is not supported");vn.set(e,function(){return t})};var mn={muxjs:"muxjs"},vn=(gn.Allowed=mn,new Map([["muxjs",function(){return R.muxjs}]]));function yn(e){var t=this;this.s=e,this.m=vn.get("muxjs")(),this.g=new this.m.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.h=null,this.l=[],this.i=[],this.j=!1,this.g.on("data",function(e){t.i=e.captions,t.l.push(pn(e.initSegment,e.data))}),this.g.on("done",function(){var e={data:pn.apply(un,I(t.l)),captions:t.i};t.h.resolve(e),t.j=!1})}function bn(e,t){var n=En(e),i="audio/aac"==e.toLowerCase().split(";")[0];return!(!vn.get("muxjs")()||!n&&!i)&&(i?lt('audio/mp4; codecs="mp4a.40.2"'):t?lt(An(t,e)):(t=An("audio",e),e=An("video",e),lt(t)||lt(e)))}function En(e){return"mp2t"==e.toLowerCase().split(";")[0].split("/")[1]}function Tn(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp4a.40.2"':En(t)?An(e,t):t}function An(e,t){var n,i;return t=t.replace(/mp2t/i,"mp4"),"audio"==e&&(t=t.replace("video","audio")),(e=/avc1\.(66|77|100)\.(\d+)/.exec(t))&&(i="avc1.",i=("66"==(n=e[1])?i+"4200":"77"==n?i+"4d00":i+"6400")+((n=Number(e[2]))>>4).toString(16),i+=(15&n).toString(16),t=t.replace(e[0],i)),t}function wn(){}function Sn(e,t){return t&&(e+='; codecs="'+t+'"'),e}function xn(e,t,n){return bn(e=Sn(e,t),n)?Tn(n,e):"audio"==n?e.replace("video","audio"):e}function In(e){var t=Cn(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:return"ac-3";case"mp4a"===e&&"a6"===t:return"ec-3";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"dvh1"===e:case"dvhe"===e:return"dovi"}return e}function kn(e){return(e=e.split(/ *; */)).shift(),(e=e.find(function(e){return e.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function Cn(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}function Mn(e){this.j=null,this.i=e,this.C=!1,this.l=this.B=0,this.m=1/0,this.h=this.g=null,this.F="",this.s=new Map}function Ln(e){return!(!_n[e]&&"application/cea-608"!=e&&"application/cea-708"!=e)}function Nn(e,t,n){if(e.F=t,t=e.s.get(t))for(var i=Ee(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter(function(e){return e.endTime<=n}))&&e.i.append(r)}function Rn(e,t,n,i,r){for(var a=n+" "+i,o=new Map,s=(t=Ee(t)).next();!s.done;s=t.next()){var s=(u=s.value).stream,u=u.cue;o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),!function e(t,n,i){n.startTime+=i,n.endTime+=i;for(var r=(n=Ee(n.nestedCues)).next();!r.done;r=n.next())e(t,r.value,i)}(e,u,r),u.startTime>=e.l&&u.startTime<e.m&&(o.get(s).get(a).push(u),s==e.F&&e.i.append([u]))}for(a=(r=Ee(o.keys())).next();!a.done;a=r.next())for(a=a.value,e.s.has(a)||e.s.set(a,new Map),s=(t=Ee(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.s.get(a).set(s,u);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(i,e.m))}yn.prototype.destroy=function(){return this.g.dispose(),this.g=null,Promise.resolve()},t("shaka.util.MimeUtils",wn),wn.getFullType=Sn,(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Mn.prototype.destroy=function(){return this.i=this.j=null,this.s.clear(),Promise.resolve()},Mn.prototype.remove=function(t,n){var i=this;return Ie(function(e){if(1==e.g)return Te(e,Promise.resolve(),2);!i.i||!i.i.remove(t,n)||null==i.g||n<=i.g||t>=i.h||(t<=i.g&&n>=i.h?i.g=i.h=null:t<=i.g&&n<i.h?i.g=n:t>i.g&&n>=i.h&&(i.h=t)),Ae(e)})},t("shaka.text.TextEngine",Mn),Mn.findParser=function(e){return _n[e]},Mn.unregisterParser=function(e){delete _n[e]},Mn.registerParser=function(e,t){_n[e]=t};var _n={};function Pn(e,t,n,i,r){var a,o,s,u=e.variants,l=(t=function(e){for(var t=new ue,n=(e=Ee(e)).next();!n.done;n=e.next()){var i=Dn(n=n.value);t.push(i,n)}return t}(u=Zn(u=t.length||n.length?function(e,t,n){for(var i={},r=(t=Ee(t)).next();!r.done;i={ee:i.ee},r=t.next())if(i.ee=r.value,(r=e.filter(function(t){return function(e){return e.video&&e.video.codecs.startsWith(t.ee)}}(i))).length){e=r;break}for(i={},n=Ee(n),t=n.next();!t.done;i={Qd:i.Qd},t=n.next())if(i.Qd=t.value,(t=e.filter(function(t){return function(e){return e.audio&&e.audio.codecs.startsWith(t.Qd)}}(i))).length){e=t;break}return e}(u,t,n):u,i)),n=t,a=0,o=new Map,s=n.size(),n.forEach(function(e,t){for(var n=(t=Ee(t)).next();!n.done;n=t.next()){var i,r=(n=n.value).video;r&&r.width&&r.height&&(r=r.width*r.height*(r.frameRate||1),o.has(r)||o.set(r,new ue),(i=o.get(r)).push(e,n),i.size()===s&&(a=Math.max(a,r)))}}),function(e,t){for(var n=(t=Ee(t)).next();!n.done;n=t.next())if((n=n.value)==ai||n==oi){if(1==(e=function(e,o){var s=0,u=new ue;return e.forEach(function(e,t){for(var n=0,i=0,r=Ee(t),a=r.next();!a.done;a=r.next())(a=a.value).decodingInfos.length&&(n+=a.decodingInfos[0][o]?1:0,i++);s<(n/=i)?(u.g={},u.push(e,t),s=n):n==s&&u.push(e,t)}),u}(e,n)).size())return e.keys()[0]}else if(n==si)break;return function(e){var a="",o=1/0;return e.forEach(function(e,t){for(var n=0,i=0,r=(t=Ee(t)).next();!r.done;r=t.next())n+=r.value.bandwidth||0,++i;(n/=i)<o&&(a=e,o=n)}),a}(e)}(t=a?o.get(a):n,r));e.variants=e.variants.filter(function(e){return Dn(e)==l})}function Dn(e){var t="",n="";return(t=e.video?In(e.video.codecs):t)+"-"+(n=e.audio?In(e.audio.codecs):n)}function On(e,t,n){function i(e,t,n){return t<=e&&e<=n}var r=e.video;if(0!=e.disabledUntilTime){if(e.disabledUntilTime>Date.now()/1e3)return!1;e.disabledUntilTime=0}return!(r&&r.width&&r.height&&(!i(r.width,t.minWidth,Math.min(t.maxWidth,n.width))||!i(r.height,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Un(e,t,n){for(var i=!1,r=(e=Ee(e)).next();!r.done;r=e.next()){var a=(r=r.value).allowedByApplication;r.allowedByApplication=On(r,t,n),a!=r.allowedByApplication&&(i=!0)}return i}function jn(n,l){return Ie(function(e){return 1==e.g?Te(e,Bn(l,0<l.offlineSessionIds.length),2):(zn(n,l),l.textStreams=l.textStreams.filter(function(e){return Ln(Sn(e.mimeType,e.codecs))}),Te(e,(t=l,Ie(function(e){switch(e.g){case 1:i=[],r=Ee(t.imageStreams),a=r.next();case 2:if(a.done){e.D(4);break}if(o=a.value,s=o.mimeType,ui.has(s)){e.D(5);break}if(u=li.get(s))return Te(e,(n=u,new Promise(function(e){var t=new Image;t.src=n,"decode"in t?t.decode().then(function(){e(!0)}).catch(function(){e(!1)}):t.onload=t.onerror=function(){e(2===t.height)}})),7);ui.set(s,!1),e.D(5);break;case 7:u=e.h,ui.set(s,u);case 5:ui.get(s)&&i.push(o),a=r.next(),e.D(2);break;case 4:t.imageStreams=i,Ae(e)}var n})),0));var t,i,r,a,o,s,u})}function Bn(t,n){return Ie(function(e){if(1==e.g)return Te(e,Fn(t.variants,n,!1),2);t.variants=t.variants.filter(function(e){var t=e.video;if(t){var n=Kn(t.codecs);if(t.codecs.includes(",")){n=Kn(n=Ke("video",i=t.codecs.split(",")));var i=Gn(i=Ke("audio",i)),r=xn(t.mimeType,i,"audio");if(!lt(r))return!1;n=[n,i].join()}if(!lt(i=xn(t.mimeType,n,"video")))return!1;t.codecs=n}if(n=e.audio){if(i=Gn(n.codecs),!lt(r=xn(n.mimeType,i,"audio")))return!1;n.codecs=i}return Vt()&&t&&(t.width&&1920<t.width||t.height&&1080<t.height)&&(t.codecs.includes("avc1.")||t.codecs.includes("avc3."))?(ni(e),!1):((t=e.decodingInfos.some(function(e){return e.supported}))||ni(e),t)}),Ae(e)})}function Fn(t,n,i){var r,a,o,s,u,l,c,d,h,f;return Ie(function(e){if(t.some(function(e){return e.decodingInfos.length}))return e.return();for(r=navigator.mediaCapabilities,a=[],o=function(t,n){var i;return Ie(function(e){return 1==e.g?(we(e,2),Te(e,r.decodingInfo(n),4)):2!=e.g?(i=e.h,t.decodingInfos.push(i),Se(e,0)):(xe(e),JSON.stringify(n),void Ae(e))})},s=Ee(t),u=s.next();!u.done;u=s.next())for(l=u.value,c=function(e,t,n){var i=e.audio,r=e.video;if(n={type:n?"file":"media-source"},r){var a,o=r.codecs;if(r.codecs.includes(",")&&(a=r.codecs.split(","),o=Kn(o=Ke("video",a)),a=Ke("audio",a),a=xn(r.mimeType,a,"audio"),n.audio={contentType:a,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}),o=Kn(o),o=xn(r.mimeType,o,"video"),n.video={contentType:o,width:r.width||64,height:r.height||64,bitrate:r.bandwidth||e.bandwidth||1,framerate:r.frameRate||1},r.hdr)switch(r.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(i&&(o=Gn(i.codecs),o=xn(i.mimeType,o,"audio"),n.audio={contentType:o,channels:i.channelsCount||2,bitrate:i.bandwidth||e.bandwidth||1,samplerate:i.audioSamplingRate||1,spatialRendering:i.spatialAudio}),!(a=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[n];e=[],o=new Map;for(var s=(a=Ee(a)).next();!s.done;s=a.next()){var u=s.value;o.get(u.keySystem)||o.set(u.keySystem,[]),o.get(u.keySystem).push(u)}a=t?"required":"optional",t=t?["persistent-license"]:["temporary"];for(var l=(u=Ee(o.keys())).next();!l.done;l=u.next()){var c=l.value,d=(l=Object.assign({},n),o.get(c));for(c={keySystem:c,initDataType:"cenc",persistentState:a,distinctiveIdentifier:"optional",sessionTypes:t},d=Ee(d),s=d.next();!s.done;s=d.next()){if((s=s.value).initData&&s.initData.length){for(var h=new Set,f=Ee(s.initData),p=f.next();!p.done;p=f.next())h.add(p.value.initDataType);c.initDataType=s.initData[0].initDataType}s.distinctiveIdentifierRequired&&(c.distinctiveIdentifier="required"),s.persistentStateRequired&&(c.persistentState="required"),s.sessionType&&(c.sessionTypes=[s.sessionType]),i&&(c.audio?c.audio.robustness=c.audio.robustness||s.audioRobustness:c.audio={robustness:s.audioRobustness}),r&&(c.video?c.video.robustness=c.video.robustness||s.videoRobustness:c.video={robustness:s.videoRobustness})}l.keySystemConfiguration=c,e.push(l)}return e}(l,n,i),d=Ee(c),h=d.next();!h.done;h=d.next())f=h.value,a.push(o(l,f));return Te(e,Promise.all(a),0)})}function Gn(e){return Ht()&&"ac-3"==e.toLowerCase()?"ec-3":e}function Kn(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function zn(n,e){e.variants=e.variants.filter(function(e){var t=e.audio;return e=e.video,!(t&&n&&n.audio&&!Vn(t,n.audio)||e&&n&&n.video&&!Vn(e,n.video))})}function Vn(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function Hn(e){var t=e.audio,n=e.video,i=t?t.mimeType:null,r=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=[],u=(o&&s.push(o),a&&s.push(a),[]),l=(n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null,[]),c=(t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null,new Set);if(t)for(var d=Ee(t.roles),h=d.next();!h.done;h=d.next())c.add(h.value);if(n)for(h=(d=Ee(n.roles)).next();!h.done;h=d.next())c.add(h.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:u,audioMimeType:i,videoMimeType:r,codecs:s.join(", "),audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(c),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles),e}function Xn(e){return{id:e.id,active:!1,type:D,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null}}function Wn(e){var t=e.width||null,n=e.height||null,i=null,r=(e.segmentIndex&&(i=e.segmentIndex.get(0)),e.tilesLayout);return(r=i?i.tilesLayout||r:r)&&null!=t&&(t/=Number(r.split("x")[0])),r&&null!=n&&(n/=Number(r.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:r||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId}}function qn(e){return e.__shaka_id||(e.__shaka_id=ri++),e.__shaka_id}function Yn(e){var t=Qn(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t}function $n(e){var t=Qn(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Qn(e){return{id:qn(e),active:!1,type:"",bandwidth:0,language:C(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function Jn(e){return e.allowedByApplication&&e.allowedByKeySystem}function Zn(e,t){for(var n=e.filter(function(e){return e.audio&&e.audio.channelsCount}),i=new Map,r=(n=Ee(n)).next();!r.done;r=n.next()){var a=(r=r.value).audio.channelsCount;i.has(a)||i.set(a,[]),i.get(a).push(r)}return 0==(n=Array.from(i.keys())).length?e:(e=n.filter(function(e){return e<=t})).length?i.get(Math.max.apply(Math,I(e))):i.get(Math.min.apply(Math,I(n)))}function ei(e,t,n,i){var r,a=e,o=e.filter(function(e){return e.primary}),s=(a=o.length?o:a).length?a[0].language:"",a=a.filter(function(e){return e.language==s});if(!t||(r=et(C(t),e.map(function(e){return e.language})))&&(a=e.filter(function(e){return C(e.language)==r})),a=a.filter(function(e){return e.forced==i}),n){if((e=ti(a,n)).length)return e}else if((e=a.filter(function(e){return 0==e.roles.length})).length)return e;return(e=a.map(function(e){return e.roles}).reduce(Ue,[])).length?ti(a,e[0]):a}function ti(e,t){return e.filter(function(e){return e.roles.includes(t)})}function ni(e){var t=[];return e.audio&&t.push(ii(e.audio)),e.video&&t.push(ii(e.video)),t.join(", ")}function ii(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}var ri=0,ai="smooth",oi="powerEfficient",si="bandwidth",ui=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),li=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function ci(){var t=this;this.m=null,this.l=!1,this.i=new ut,navigator.connection&&navigator.connection.addEventListener("change",function(){var e;t.g.useNetworkInformation&&t.l&&(t.i=new ut,t.g&&t.i.configure(t.g.advanced),(e=t.chooseVariant())&&t.m(e))}),this.s=[],this.C=1,this.F=!1,this.h=this.j=this.g=this.B=null,this.G=new M(function(){var e;t.g.restrictToElementSize&&(e=t.chooseVariant())&&t.m(e)})}function di(e){var t=e.g.defaultBandwidthEstimate;return t=navigator.connection&&navigator.connection.downlink&&e.g.useNetworkInformation?1e6*navigator.connection.downlink:t}function hi(t,e,n,i){return(e=t?e.filter(function(e){return On(e,t,{width:i,height:n})}):e).sort(function(e,t){return e.bandwidth-t.bandwidth})}(n=ci.prototype).stop=function(){this.m=null,this.l=!1,this.s=[],this.C=1,this.j=this.B=null,this.h&&(this.h.disconnect(),this.h=null),this.G.stop()},n.init=function(e){this.m=e},n.chooseVariant=function(){var e=1/0,t=1/0;this.g.restrictToScreenSize&&(t=this.g.ignoreDevicePixelRatio?1:R.devicePixelRatio,e=R.screen.height*t,t*=R.screen.width),this.h&&this.g.restrictToElementSize&&(t=this.g.ignoreDevicePixelRatio?1:R.devicePixelRatio,e=this.j.clientWidth*t,t*=this.j.clientHeight);for(var e=hi(this.g.restrictions,this.s,e,t),t=this.i.getBandwidthEstimate(di(this)),n=(e=this.s.length&&!e.length?[(e=hi(null,this.s,1/0,1/0))[0]]:e)[0]||null,i=0;i<e.length;i++){for(var r=e[i],a=isNaN(this.C)?1:Math.abs(this.C),o=a*r.bandwidth/this.g.bandwidthDowngradeTarget,s={bandwidth:1/0},u=i+1;u<e.length;u++)if(r.bandwidth!=e[u].bandwidth){s=e[u];break}a=a*s.bandwidth/this.g.bandwidthUpgradeTarget,o<=t&&t<=a&&n.bandwidth!=r.bandwidth&&(n=r)}return this.B=Date.now(),n},n.enable=function(){this.l=!0},n.disable=function(){this.l=!1},n.segmentDownloaded=function(e,t){if(this.i.sample(e,t),null!=this.B&&this.l)e:{if(this.F){if(Date.now()-this.B<1e3*this.g.switchInterval)break e}else{if(!((e=this.i).g>=e.i))break e;this.F=!0}e=this.chooseVariant(),this.i.getBandwidthEstimate(di(this)),e&&this.m(e)}},n.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(di(this))},n.setVariants=function(e){this.s=e},n.playbackRateChanged=function(e){this.C=e},n.setMediaElement=function(e){var t=this;this.j=e,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in R&&(this.h=new ResizeObserver(function(){t.G.R(fi)}),this.h.observe(this.j))},n.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)},t("shaka.abr.SimpleAbrManager",ci);var fi=1;function pi(e,t){this.g=e,this.h=t}function gi(e,t){var n=new pi(5,0),i=yi,r=i.g,a=n.h-r.h;(0<(n.g-r.g||a)?i.i:i.h)(i.g,n,e,t)}function mi(e,t,n,i){k([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function vi(e,t,n,i){re([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(""))}pi.prototype.toString=function(){return"v"+this.g+"."+this.h};var yi=null;function bi(e,t){for(this.h=e,this.g=new Set([e]),t=(e=Ee(t=t||[])).next();!t.done;t=e.next())this.add(t.value)}function Ei(e,t){var n,i;return!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)&&(n=e.audio,i=t.audio,n=!((!(!n.channelsCount||!i.channelsCount||2<n.channelsCount||2<i.channelsCount)||n.channelsCount==i.channelsCount)&&Ti(n,i)&&Ai(n.roles,i.roles))),!(n=!n&&(n=e.video&&t.video)?!(Ti(e=e.video,t=t.video)&&Ai(e.roles,t.roles)):n)}function Ti(e,t){if(e.mimeType==t.mimeType&&(e=e.codecs.split(",").map(function(e){return Cn(e)[0]}),t=t.codecs.split(",").map(function(e){return Cn(e)[0]}),e.length==t.length)){e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return;return 1}}function Ai(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size==t.size){for(var n=(e=Ee(e)).next();!n.done;n=e.next())if(!t.has(n.value))return;return 1}}function wi(e){this.g=e,this.h=new Si(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function Si(e,t,n,i){this.i=e,this.j=t,this.g=n,this.h=void 0===i?"":i}function xi(){this.g=Ci,this.h=(new Map).set(Ci,2).set(ki,1)}function Ii(e,t,n){e.h.set(Ci,n).set(ki,t)}t("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),bi.prototype.add=function(e){return!!Ei(this.h,e)&&(this.g.add(e),!0)},bi.prototype.values=function(){return this.g.values()},wi.prototype.create=function(e){var t=this,n=e.filter(function(e){return Ei(t.g,e)});return n.length?new bi(n[0],n):this.h.create(e)},Si.prototype.create=function(e){var t,n,i,r,a,o=[],s=(r=e,n=this.i,o=(t=et(n=C(n),r.map(Ze)))?r.filter(function(e){return t==Ze(e)}):[],e.filter(function(e){return e.primary})),o=o.length?o:s.length?s:e;for(n=o,i=this.j,(e=n.filter(function(e){return!!e.audio&&(i?e.audio.roles.includes(i):0==e.audio.roles.length)})).length&&(o=e),this.g&&((e=Zn(o,this.g)).length&&(o=e)),this.h&&(r=o,a=this.h,(e=r.filter(function(e){return!!e.audio&&e.audio.label.toLowerCase()==a.toLowerCase()})).length&&(o=e)),e=new bi(o[0]),s=(o=Ee(o)).next();!s.done;s=o.next())s=s.value,Ei(e.h,s)&&e.add(s);return e};var ki=0,Ci=1;function Mi(e,t){var n=Ni();this.l=(null==e.maxAttempts?n:e).maxAttempts,this.j=(null==e.baseDelay?n:e).baseDelay,this.s=(null==e.fuzzFactor?n:e).fuzzFactor,this.m=(null==e.backoffFactor?n:e).backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function Li(t){var n,i;return Ie(function(e){if(1==e.g){if(t.g>=t.l){if(!t.i)throw new ke(2,7,1010);t.g=1,t.h=t.j}return(n=t.g,t.g++,0==n)?e.return():(i=t.h*(1+(2*Math.random()-1)*t.s),Te(e,new Promise(function(e){new M(e).R(i/1e3)}),2))}t.h*=t.m,Ae(e)})}function Ni(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Ri(e,t){this.promise=e,this.i=t,this.g=!1}function _i(e){return new Ri(Promise.reject(e),function(){return Promise.resolve()})}function Pi(){var e=Promise.reject(new ke(2,7,7001));return e.catch(function(){}),new Ri(e,function(){return Promise.resolve()})}function Di(e){return new Ri(Promise.resolve(e),function(){return Promise.resolve()})}function Oi(e){return new Ri(e,function(){return e.catch(function(){})})}function Ui(e){return new Ri(Promise.all(e.map(function(e){return e.promise})),function(){return Promise.all(e.map(function(e){return e.abort()}))})}function ji(e){var a=new Set;return function e(t){switch(typeof t){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return t;default:if(!t||t.buffer&&t.buffer.constructor==ArrayBuffer)return t;if(a.has(t))return null;var n=t.constructor==Array;if(t.constructor!=Object&&!n)return null;a.add(t);var i,r=n?[]:{};for(i in t)r[i]=e(t[i]);return n&&(r.length=t.length),r}}(e)}function Bi(e){var t,n={};for(t in e)n[t]=e[t];return n}function Fi(){this.g=[]}function Gi(e,t){e.g.push(t.finally(function(){ht(e.g,t)}))}function Ki(e,t,n){h.call(this),this.i=!1,this.m=new Fi,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.B=n||null,this.s=!1}function zi(e,t,n,i){n=n||qi;var r=Yi[e];(!r||n>=r.priority)&&(Yi[e]={priority:n,sh:t,uh:void 0!==i&&i})}function Vi(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function Hi(){this.g=0}function Xi(e,t,n){Ri.call(this,e,t),this.h=n}Ri.prototype.abort=function(){return this.g=!0,this.i()},Ri.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Ri.prototype.ia=function(i,r){function e(n){return function(e){var t;o.g&&n?s.reject(u):(t=n?i:r)?a=function(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){},function(){})})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}(t,e,s):(n?s.resolve:s.reject)(e)}}function a(){return s.reject(u),o.abort()}var o=this,s=new U,u=new ke(2,7,7001);return this.promise.then(e(!0),e(!1)),new Ri(s,function(){return a()})},t("shaka.util.AbortableOperation",Ri),Ri.prototype.chain=Ri.prototype.ia,Ri.all=Ui,Ri.notAbortable=Oi,Ri.completed=Di,Ri.aborted=Pi,Ri.failed=_i,Fi.prototype.destroy=function(){for(var e=[],t=Ee(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)},e(Ki,h),(n=Ki.prototype).Me=function(e){this.s=e},n.vh=function(e){this.g.add(e)},n.Lh=function(e){this.g.delete(e)},n.qg=function(){this.g.clear()},n.wh=function(e){this.h.add(e)},n.Mh=function(e){this.h.delete(e)},n.rg=function(){this.h.clear()},n.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),h.prototype.release.call(this),this.m.destroy()},n.request=function(s,e){var u=this,t=new Hi;if(this.i)return(n=Promise.reject(new ke(2,7,7001))).catch(function(){}),new Xi(n,function(){return Promise.resolve()},t);e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?ji(e.retryParameters):Ni(),e.uris=ji(e.uris);var n,i=(n=function(e,t,n){for(var i=Di(void 0),r={},a=(e=Ee(e.g)).next();!a.done;r={Zd:r.Zd},a=e.next())r.Zd=a.value,i=i.ia(function(e){return function(){return n.body&&(n.body=Ut(n.body)),e.Zd(t,n)}}(r));return i.ia(void 0,function(e){if(e instanceof ke&&7001==e.code)throw e;throw new ke(2,1,1006,e)})}(this,s,e)).ia(function(){return function i(r,a,o,s,u,l,c){r.s&&(o.uris[u]=o.uris[u].replace("http://","https://"));var e=new he(o.uris[u]),t=e.Wa,d=!1;t||(t=location.protocol,t=t.slice(0,-1),fe(e,t),o.uris[u]=e.toString());t=t.toLowerCase();var n=(t=Yi[t])?t.sh:null;if(!n)return _i(new ke(2,1,1e3,e));var h,f=t.uh,p=null,g=null,m=!1,v=!1;return Oi(Li(s)).ia(function(){if(r.i)return Pi();h=Date.now();var e=n(o.uris[u],o,a,function(e,t,n){p&&p.stop(),g&&g.R(i/1e3),r.l&&a==Wi&&(r.l(e,t),d=!0,c.g=n)},function(e){r.j&&r.j(e,o,a),v=!0});if(!f)return e;var t=o.retryParameters.connectionTimeout,i=(t&&(p=new M(function(){m=!0,e.abort()})).R(t/1e3),o.retryParameters.stallTimeout);return i&&(g=new M(function(){m=!0,e.abort()})),e}).ia(function(e){p&&p.stop(),g&&g.stop(),null==e.timeMs&&(e.timeMs=Date.now()-h);var t={response:e,eh:d};return!v&&r.j&&r.j(e.headers,o,a),t},function(e){var t,n;if(p&&p.stop(),g&&g.stop(),r.B&&(t=null,n=0,e instanceof ke&&(1001==(t=e).code&&(n=e.data[1])),r.B(o,t,n,m)),r.i)return Pi();if((e=m?new ke(1,1,1003,o.uris[u],a):e)instanceof ke){if(7001==e.code)throw e;if(1010==e.code)throw l;if(1==e.severity)return t=new P("retry",t=(new Map).set("error",e)),r.dispatchEvent(t),u=(u+1)%o.uris.length,i(r,a,o,s,u,e,c)}throw e})}(u,s,e,new Mi(e.retryParameters,!1),0,null,t)}),r=i.ia(function(e){for(var t=u,n=s,i=e,r=Di(void 0),a={},o=(t=Ee(t.h)).next();!o.done;a={$d:a.$d},o=t.next())a.$d=o.value,r=r.ia(function(t){return function(){var e=i.response;return e.data&&(e.data=Ut(e.data)),t.$d(n,e)}}(a));return r.ia(function(){return i},function(e){var t=2;if(e instanceof ke){if(7001==e.code)throw e;t=e.severity}throw new ke(t,1,1007,e)})}),a=Date.now(),o=0,l=(n.promise.then(function(){o=Date.now()-a},function(){}),0),c=(i.promise.then(function(){l=Date.now()},function(){}),r.ia(function(e){var t=Date.now()-l,n=e.response;return n.timeMs+=o,n.timeMs+=t,e.eh||!u.l||n.fromCache||s!=Wi||u.l(n.timeMs,n.data.byteLength),n},function(e){throw e&&(e.severity=2),e}));return n=new Xi(c.promise,function(){return c.abort()},t),Gi(this.m,n),n},t("shaka.net.NetworkingEngine",Ki),Ki.makeRequest=Vi,Ki.defaultRetryParameters=Ni,Ki.prototype.clearAllResponseFilters=Ki.prototype.rg,Ki.prototype.unregisterResponseFilter=Ki.prototype.Mh,Ki.prototype.registerResponseFilter=Ki.prototype.wh,Ki.prototype.clearAllRequestFilters=Ki.prototype.qg,Ki.prototype.unregisterRequestFilter=Ki.prototype.Lh,Ki.prototype.registerRequestFilter=Ki.prototype.vh,Ki.unregisterScheme=function(e){delete Yi[e]},Ki.registerScheme=zi,Ki.prototype.setForceHTTPS=Ki.prototype.Me,Ki.NumBytesRemainingClass=Hi,e(Xi,Ri),Ki.PendingRequest=Xi;var Wi=1,qi=(Ki.RequestType={MANIFEST:0,SEGMENT:Wi,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6},3),Yi=(Ki.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:qi},{});function $i(e){this.g=!1,this.h=new U,this.i=e}function j(e,t){if(e.g){if(t instanceof ke&&7003==t.code)throw t;throw new ke(2,7,7003,t)}}function f(){this.g=new ue}function Qi(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(e){return!n.has(e)}),function(e){var t=Ji;if(null==t){t=!1;try{var n={},i={get:function(){return!(t=!0)}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch(e){t=!1}Ji=t}return t}(e)?t:t.capture||!1}(e,i),this.target.addEventListener(t,n,this.g)}$i.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))},(n=f.prototype).release=function(){this.Rb(),this.g=null},n.o=function(e,t,n,i){this.g&&(e=new Qi(e,t,n,i),this.g.push(t,e))},n.Da=function(n,i,r,e){var a=this;this.o(n,i,function e(t){a.qc(n,i,e),r(t)},e)},n.qc=function(e,t,n){if(this.g)for(var i=this.g.get(t)||[],r=(i=Ee(i)).next();!r.done;r=i.next())(r=r.value).target!=e||n!=r.listener&&n||(r.qc(),this.g.remove(t,r))},n.Rb=function(){if(this.g){var e,t=this.g,n=[];for(e in t.g)n.push.apply(n,I(t.g[e]));for(n=(t=Ee(n)).next();!n.done;n=t.next())n.value.qc();this.g.g={}}},t("shaka.util.EventManager",f),f.prototype.removeAll=f.prototype.Rb,f.prototype.unlisten=f.prototype.qc,f.prototype.listenOnce=f.prototype.Da,f.prototype.listen=f.prototype.o,Qi.prototype.qc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var Ji=void 0;function Zi(e){for(var t=new Map,n=Ee(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function er(e){var n={};return e.forEach(function(e,t){n[t]=e}),n}function B(e,t){this.W=jt(e),this.h=t==nr,this.g=0}function tr(){return new ke(2,3,3e3)}(n=B.prototype).xa=function(){return this.g<this.W.byteLength},n.ma=function(){return this.g},n.Kg=function(){return this.W.byteLength},n.ob=function(){try{var e=this.W.getUint8(this.g);return this.g+=1,e}catch(e){throw tr()}},n.Ce=function(){try{var e=this.W.getUint16(this.g,this.h);return this.g+=2,e}catch(e){throw tr()}},n.N=function(){try{var e=this.W.getUint32(this.g,this.h);return this.g+=4,e}catch(e){throw tr()}},n.Rf=function(){try{var e=this.W.getInt32(this.g,this.h);return this.g+=4,e}catch(e){throw tr()}},n.Cb=function(){try{var e,t;this.h?(e=this.W.getUint32(this.g,!0),t=this.W.getUint32(this.g+4,!0)):(t=this.W.getUint32(this.g,!1),e=this.W.getUint32(this.g+4,!1))}catch(e){throw tr()}if(2097151<t)throw new ke(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},n.Bb=function(e){if(this.g+e>this.W.byteLength)throw tr();var t=O(this.W,this.g,e);return this.g+=e,t},n.skip=function(e){if(this.g+e>this.W.byteLength)throw tr();this.g+=e},n.Eh=function(e){if(this.g<e)throw tr();this.g-=e},n.seek=function(e){if(e<0||e>this.W.byteLength)throw tr();this.g=e},n.Vc=function(){for(var e=this.g;this.xa()&&0!=this.W.getUint8(this.g);)this.g+=1;return e=O(this.W,e,this.g-e),this.g+=1,tn(e)},t("shaka.util.DataViewReader",B),B.prototype.readTerminatedString=B.prototype.Vc,B.prototype.rewind=B.prototype.Eh,B.prototype.readBytes=B.prototype.Bb,B.prototype.readUint64=B.prototype.Cb,B.prototype.readInt32=B.prototype.Rf,B.prototype.readUint32=B.prototype.N,B.prototype.readUint16=B.prototype.Ce,B.prototype.readUint8=B.prototype.ob,B.prototype.getLength=B.prototype.Kg,B.prototype.getPosition=B.prototype.ma,B.prototype.hasMoreData=B.prototype.xa;var nr=1;function ir(){this.i=[],this.h=[],this.g=!1}function rr(e){for(var t=cr(e);e.reader.xa()&&!e.parser.g;)e.parser.Tc(e.start+t,e.reader,e.partialOkay)}function ar(e){for(var t=cr(e),n=e.reader.N(),i=0;i<n&&(e.parser.Tc(e.start+t,e.reader,e.partialOkay),!e.parser.g);i++);}function or(e){var t=cr(e);for(e.reader.skip(78);e.reader.xa()&&!e.parser.g;)e.parser.Tc(e.start+t,e.reader,e.partialOkay)}function sr(t){return function(e){t(e.reader.Bb(e.reader.W.byteLength-e.reader.ma()))}}function ur(e){for(var t=0,n=(e=Ee(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function lr(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function cr(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}B.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:nr},(n=ir.prototype).box=function(e,t){return e=ur(e),this.i[e]=dr,this.h[e]=t,this},n.S=function(e,t){return e=ur(e),this.i[e]=hr,this.h[e]=t,this},n.stop=function(){this.g=!0},n.parse=function(e,t,n){for(e=new B(e,0),this.g=!1;e.xa()&&!this.g;)this.Tc(0,e,t,n)},n.Tc=function(e,t,n,i){var r=t.ma();if(i&&r+8>t.W.byteLength)this.g=!0;else{var a=t.N(),o=t.N(),s=lr(o),u=!1;switch(a){case 0:a=t.W.byteLength-r;break;case 1:if(i&&t.ma()+8>t.W.byteLength)return void(this.g=!0);a=t.Cb(),u=!0}var l=this.h[o];if(l){var c=null,d=null;if(this.i[o]==hr){if(i&&t.ma()+4>t.W.byteLength)return void(this.g=!0);c=(d=t.N())>>>24,d&=16777215}o=r+a,n&&o>t.W.byteLength&&(o=t.W.byteLength),i&&o>t.W.byteLength?this.g=!0:l({name:s,parser:this,partialOkay:n||!1,version:c,flags:d,reader:t=new B(t=0<(i=o-t.ma())?t.Bb(i):new Uint8Array(0),0),size:a,start:r+e,has64BitSize:u})}else t.skip(Math.min(r+a-t.ma(),t.W.byteLength-t.ma()))}},t("shaka.util.Mp4Parser",ir),ir.headerSize=cr,ir.typeToString=lr,ir.allData=sr,ir.visualSampleEntry=or,ir.sampleDescription=ar,ir.children=rr,ir.prototype.parseNext=ir.prototype.Tc,ir.prototype.fullBox=ir.prototype.S;var dr=0,hr=1;function fr(e){var r=this;this.g=[],this.h=[],this.data=[],(new ir).box("moov",rr).box("moof",rr).S("pssh",function(e){if(!(1<e.version)){var t=O(e.reader.W,-12,e.size);if(r.data.push(t),r.g.push(fn(e.reader.Bb(16))),0<e.version)for(var t=e.reader.N(),n=0;n<t;n++){var i=fn(e.reader.Bb(16));r.h.push(i)}}}).parse(e)}function pr(e,t,n,i){var r=e.length,a=t.length+16+r,o=(0<i&&(a+=4+16*n.size),new Uint8Array(a)),s=jt(o),u=0;if(s.setUint32(u,a),s.setUint32(u+=4,1886614376),u+=4,i<1?s.setUint32(u,0):s.setUint32(u,16777216),o.set(t,u+=4),u+=t.length,0<i)for(s.setUint32(u,n.size),u+=4,n=(t=Ee(n)).next();!n.done;n=t.next())n=hn(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,r),o.set(e,u+4),o}function gr(e,t){return 1!=(e=vr(e,t)).length?null:e[0]}function mr(e,t,n){return 1!=(e=yr(e,t,n)).length?null:e[0]}function vr(e,t){for(var n=[],i=(e=Ee(e.childNodes)).next();!i.done;i=e.next())(i=i.value)instanceof Element&&i.tagName==t&&n.push(i);return n}function yr(e,t,n){for(var i=[],r=(e=Ee(e.childNodes)).next();!r.done;r=e.next())(r=r.value)instanceof Element&&r.localName==n&&r.namespaceURI==t&&i.push(r);return i}function br(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Er(e,t,n){for(var i=(t=Ee(t)).next();!i.done;i=t.next())if(i=i.value,e.hasAttributeNS(i,n))return e.getAttributeNS(i,n);return null}function Tr(e){return Array.from(e.childNodes).every(Ar)?e.textContent.trim():null}function Ar(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function L(e,t,n,i){i=void 0===i?null:i;var r=null;return null==(r=null!=(e=e.getAttribute(t))?n(e):r)?i:r}function wr(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Sr(e){return(e=e&&RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function xr(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Ir(e){return 0==(e=Number(e))%1?e:null}function kr(e){return 0==(e=Number(e))%1&&0<e?e:null}function Cr(e){return 0==(e=Number(e))%1&&0<=e?e:null}function Mr(e){return e=Number(e),isNaN(e)?null:e}function Lr(e){var t=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(t)?null:t}function Nr(e,t){var n=new DOMParser,i=_r.value()(e);e=null;try{e=n.parseFromString(i,"text/xml")}catch(e){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function Rr(e,t){try{return Nr(tn(e),t)}catch(e){return null}}var _r=new Ft(function(){var t;return"undefined"!=typeof trustedTypes?(t=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}}),function(e){return t.createHTML(e)}):function(e){return e}});function Pr(t,e){var i=this;e=void 0===e?1:e,this.G=t,this.I=new Set,this.l=this.C=null,this.$=this.X=!1,this.J=0,this.g=null,this.B=new f,this.i=new Map,this.F=[],this.s=new U,this.h=null,this.m=function(e){i.s.reject(e),t.onError(e)},this.aa=new Map,this.Z=new Map,this.P=new M(function(){return t=(e=i).aa,(n=e.Z).clear(),t.forEach(function(e,t){return n.set(t,e)}),(t=Array.from(n.values())).length&&t.every(function(e){return"expired"==e})&&e.m(new ke(2,6,6014)),void e.G.Fd(er(n));var e,t,n}),this.M=!1,this.K=[],this.O=!1,this.ra=new M(function(){var r;(r=i).i.forEach(function(e,t){var n=e.Ae,i=t.expiration;(i=isNaN(i)?1/0:i)!=n&&(r.G.onExpirationUpdated(t.sessionId,i),e.Ae=i)})}).ea(e),this.s.catch(function(){}),this.j=new $i(function(){return t=i,Ie(function(e){switch(e.g){case 1:return t.B.release(),t.B=null,t.s.reject(),t.ra.stop(),t.ra=null,t.P.stop(),t.P=null,Te(e,Wr(t),2);case 2:if(t.l)return we(e,4),Te(e,t.l.setMediaKeys(null),6);e.D(3);break;case 6:Se(e,5);break;case 4:xe(e);case 5:t.l=null;case 3:t.g=null,t.I.clear(),t.C=null,t.F=[],t.h=null,t.m=function(){},t.G=null,t.V=!1,t.H=null,Ae(e)}});var t}),this.V=!1,this.H=null}function Dr(e,t,n){return e.F=n,e.M=0<n.length,Or(e,t)}function Or(l,c){var d,h,f,p,g,m,v,y,b,E,T;return Ie(function(e){if(1!=e.g)return g||Object.keys(l.h.servers).length?(T=zr(l,void 0,c),e.return(g?T:T.catch(function(){}))):(l.X=!0,e.return(Promise.resolve()));var t,n,i,r,a;if(d=function(e){if(0==(e=Zi(e.h.clearKeys)).size)return null;var t,i=[],r=[];return e.forEach(function(e,t){var n=t;22!=n.length&&(n=cn(hn(t),!1)),22!=(t=e).length&&(t=cn(hn(e),!1)),i.push(e={kty:"oct",kid:n,k:t}),r.push(e.kid)}),e=JSON.stringify({keys:i}),t=[{initData:O(an(t=JSON.stringify({kids:r}))),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+R.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t,keyIds:new Set(r)}}(l))for(h=Ee(c),f=h.next();!f.done;f=h.next())(p=f.value).video&&(p.video.drmInfos=[d]),p.audio&&(p.audio.drmInfos=[d]);if(!(g=c.some(function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)}))){T=Zi(l.h.servers);var o=c,s=T,u=[];for(s.forEach(function(e,t){u.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),o=Ee(o),s=o.next();!s.done;s=o.next())(s=s.value).video&&(s.video.drmInfos=u),s.audio&&(s.audio.drmInfos=u)}for(m=Ee(c),f=m.next();!f.done;f=m.next())for(v=f.value,v=Yr(v),y=Ee(v),b=y.next();!b.done;b=y.next())E=b.value,t=E,n=Zi(l.h.servers),i=Zi(l.h.advanced||{}),r=l.h.keySystemsMapping,a=void 0,!(a=t.keySystem)||"org.w3.clearkey"==a&&t.licenseServerUri||(n.size&&(n=n.get(a)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(i=i.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=i.persistentStateRequired),t.videoRobustness||(t.videoRobustness=i.videoRobustness),t.audioRobustness||(t.audioRobustness=i.audioRobustness),t.serverCertificate||(t.serverCertificate=i.serverCertificate),i.sessionType&&(t.sessionType=i.sessionType),t.serverCertificateUri||(t.serverCertificateUri=i.serverCertificateUri)),r[a]&&(t.keySystem=r[a]),R.cast&&R.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"));return Te(e,Fn(c,l.M,l.V),2)})}function Ur(t){var n;return Ie(function(e){switch(e.g){case 1:if(t.l.mediaKeys)return e.return();if(t.H)return Te(e,t.H,3);e.D(2);break;case 3:return j(t.j),e.return();case 2:return we(e,4),t.H=t.l.setMediaKeys(t.C),Te(e,t.H,6);case 6:Se(e,5);break;case 4:n=xe(e),t.m(new ke(2,6,6003,n.message));case 5:j(t.j),Ae(e)}})}function jr(t){var n;return Ie(function(e){switch(e.g){case 1:if(!t.C||!t.g)return e.return();if(!t.g.serverCertificateUri||t.g.serverCertificate&&t.g.serverCertificate.length){e.D(2);break}return n=Vi([t.g.serverCertificateUri],t.h.retryParameters),we(e,3),Te(e,t.G.Ob.request(5,n).promise,5);case 5:n=e.h,t.g.serverCertificate=O(n.data),Se(e,4);break;case 3:throw new ke(2,6,6017,xe(e));case 4:if(t.j.g)return e.return();case 2:return t.g.serverCertificate&&t.g.serverCertificate.length?(we(e,6),Te(e,t.C.setServerCertificate(t.g.serverCertificate),8)):e.return();case 8:Se(e,0);break;case 6:throw new ke(2,6,6004,xe(e).message)}})}function Br(e){for(var t=(e.g?e.g.initData:[])||[],n=Ee(t),i=n.next();!i.done;i=n.next())Fr(e,(i=i.value).initDataType,i.initData);for(i=(n=Ee(e.F)).next();!i.done;i=n.next())Vr(e,i.value);return t.length||e.F.length||e.s.resolve(),e.s}function Fr(e,t,n){if(n.length){for(var i=e.i.values(),r=(i=Ee(i)).next();!r.done;r=i.next())if(Dt(n,r.value.initData)&&!$t("Tizen 2"))return;0<e.i.size&&$r(e)&&(e.s.resolve(),e.s=new U,e.s.catch(function(){}));var a=e,o=n,e=e.g.sessionType;try{var s=a.C.createSession(e)}catch(e){return void a.m(new ke(2,6,6005,e.message))}a.B.o(s,"message",function(e){a.l&&a.h.delayLicenseRequestUntilPlayed&&a.l.paused&&!a.O?a.K.push(e):Hr(a,e)}),a.B.o(s,"keystatuseschange",function(e){return Xr(a,e)}),a.i.set(s,{initData:o,initDataType:t,loaded:!1,Ae:1/0,cb:null,type:e});try{o=a.h.initDataTransform(o,t,a.g)}catch(e){return void((t=e)instanceof ke||(t=new ke(2,6,6016,e)),a.m(t))}a.h.logLicenseExchange&&cn(o),s.generateRequest(t,o).catch(function(e){var t,n;a.j.g||(a.i.delete(s),(t=e.errorCode)&&t.systemCode&&((n=t.systemCode)<0&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)),a.m(new ke(2,6,6006,e.message,e,n)))})}}function Gr(e){return e&&e.match(/^com\.(microsoft|chromecast)\.playready/)}function Kr(e){return e=Le(e=e.i.keys(),function(e){return e.sessionId}),Array.from(e)}function zr(w,S,x){var I,k,C,M,L,N,R,_,P,D;return Ie(function(e){switch(e.g){case 1:if(I=new Map,x.length){k=function(e,t,n){for(var i=Ee(t),r=i.next();!r.done;r=i.next()){var a=Ee(Yr(r.value));for(r=a.next();!r.done;r=a.next())r=r.value,n.has(r.keySystem)||n.set(r.keySystem,[]),n.get(r.keySystem).push(r)}if(1==n.size&&n.has(""))throw new ke(2,6,6e3);for(i={},e=Ee(e.h.preferredKeySystems),r=e.next();!r.done;i={Xd:i.Xd},r=e.next())for(i.Xd=r.value,a=Ee(t),r=a.next();!r.done;r=a.next())if(r=r.value.decodingInfos.find(function(t){return function(e){return e.supported&&null!=e.keySystemAccess&&e.keySystemAccess.keySystem==t.Xd}}(i)))return r.keySystemAccess;for(e=Ee([!0,!1]),r=e.next();!r.done;r=e.next())for(i=r.value,a=Ee(t),r=a.next();!r.done;r=a.next()){var o=Ee(r.value.decodingInfos);for(r=o.next();!r.done;r=o.next()){var s=r.value;if(s.supported&&s.keySystemAccess){var u=Ee(r=n.get(s.keySystemAccess.keySystem));for(r=u.next();!r.done;r=u.next())if(!!r.value.licenseServerUri==i)return s.keySystemAccess}}}return null}(w,x,I),e.D(2);break}return Te(e,(l=w,c=S,Ie(function(e){switch(e.g){case 1:if(1==c.size&&c.has(""))throw new ke(2,6,6e3);for(h=Ee(c.values()),f=h.next();!f.done;f=h.next())0==(p=f.value).audioCapabilities.length&&delete p.audioCapabilities,0==p.videoCapabilities.length&&delete p.videoCapabilities;g=Ee(l.h.preferredKeySystems),m=g.next();case 2:if(m.done){e.D(4);break}if(T=m.value,c.has(T))return A=c.get(T),we(e,6),Te(e,navigator.requestMediaKeySystemAccess(T,[A]),8);e.D(3);break;case 8:return d=e.h,e.return(d);case 6:xe(e);case 7:j(l.j);case 3:m=g.next(),e.D(2);break;case 4:v=Ee([!0,!1]),y=v.next();case 9:if(y.done){e.D(11);break}b=y.value,E=Ee(c.keys()),m=E.next();case 12:if(m.done){y=v.next(),e.D(9);break}if(T=m.value,A=c.get(T),A.drmInfos.some(function(e){return!!e.licenseServerUri})==b)return we(e,15),Te(e,navigator.requestMediaKeySystemAccess(T,[A]),17);e.D(13);break;case 17:return d=e.h,e.return(d);case 15:xe(e);case 16:j(l.j);case 13:m=E.next(),e.D(12);break;case 11:return e.return(d)}})),3);case 3:k=e.h;case 2:if(!(C=k))throw new ke(2,6,6001);for(j(w.j),we(e,4),w.I.clear(),D=C.getConfiguration(),P=D.audioCapabilities||[],D=D.videoCapabilities||[],M=Ee(P),L=M.next();!L.done;L=M.next())N=L.value,w.I.add(N.contentType.toLowerCase());for(R=Ee(D),L=R.next();!L.done;L=R.next())_=L.value,w.I.add(_.contentType.toLowerCase());if(x.length){for(var t=C.keySystem,n=I.get(C.keySystem),i=[],r=[],a=[],o=[],s=new Set,u=(Qr(n,i,a,r,o,s),w.M?"persistent-license":"temporary"),t={keySystem:t,licenseServerUri:i[0],distinctiveIdentifierRequired:n[0].distinctiveIdentifierRequired,persistentStateRequired:n[0].persistentStateRequired,sessionType:n[0].sessionType||u,audioRobustness:n[0].audioRobustness||"",videoRobustness:n[0].videoRobustness||"",serverCertificate:a[0],serverCertificateUri:r[0],initData:o,keyIds:s},i=(n=Ee(n)).next();!i.done;i=n.next())(i=i.value).distinctiveIdentifierRequired&&(t.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),i.persistentStateRequired&&(t.persistentStateRequired=i.persistentStateRequired);n=t}else n=C.keySystem,t=S.get(C.keySystem),i=[],r=[],a=[],o=[],s=new Set,Qr(t.drmInfos,i,a,r,o,s),n={keySystem:n,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,sessionType:t.sessionTypes[0]||"temporary",audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:a[0],serverCertificateUri:r[0],initData:o,keyIds:s};if(w.g=n,w.g.licenseServerUri)return Te(e,C.createMediaKeys(),6);throw new ke(2,6,6012,w.g.keySystem);case 6:return P=e.h,j(w.j),w.C=P,w.X=!0,Te(e,jr(w),7);case 7:j(w.j),Se(e,0);break;case 4:if(D=xe(e),j(w.j,D),w.g=null,w.I.clear(),D instanceof ke)throw D;throw new ke(2,6,6002,D.message)}var l,c,d,h,f,p,g,m,v,y,b,E,T,A})}function Vr(n,e){var i,r,a;return Ie(function(t){switch(t.g){case 1:try{i=n.C.createSession("persistent-license")}catch(e){return r=new ke(2,6,6005,e.message),n.m(r),t.return(Promise.reject(r))}return n.B.o(i,"message",function(e){n.l&&n.h.delayLicenseRequestUntilPlayed&&n.l.paused&&!n.O?n.K.push(e):Hr(n,e)}),n.B.o(i,"keystatuseschange",function(e){return Xr(n,e)}),r={initData:null,initDataType:null,loaded:!1,Ae:1/0,cb:null,type:"persistent-license"},n.i.set(i,r),we(t,2),Te(t,i.load(e),4);case 4:return(a=t.h,j(n.j),a)?(r.loaded=!0,$r(n)&&n.s.resolve(),t.return(i)):(n.i.delete(i),n.m(new ke(2,6,6013)),t.return(Promise.resolve()));case 2:a=xe(t),j(n.j,a),n.i.delete(i),n.m(new ke(2,6,6005,a.message));case 3:return t.return(Promise.resolve())}})}function Hr(a,o){var s,u,l,c,d,h,f;Ie(function(e){switch(e.g){case 1:if(s=o.target,a.h.logLicenseExchange&&cn(o.message),u=a.i.get(s),l=a.g.licenseServerUri,d=a.h.advanced[a.g.keySystem],"individualization-request"==o.messageType&&d&&d.individualizationServer&&(l=d.individualizationServer),(d=Vi([l],a.h.retryParameters)).body=o.message,d.method="POST",d.licenseRequestType=o.messageType,d.sessionId=s.sessionId,d.drmInfo=a.g,u&&(d.initData=u.initData,d.initDataType=u.initDataType),Gr(a.g.keySystem)){var t=d;var n=nn(t.body,!0,!0);if(n.includes("PlayReadyKeyMessage")){for(var i=Ee((n=Nr(n,"PlayReadyKeyMessage")).getElementsByTagName("HttpHeader")),r=i.next();!r.done;r=i.next())r=r.value,t.headers[r.getElementsByTagName("name")[0].textContent]=r.getElementsByTagName("value")[0].textContent;t.body=dn(n.getElementsByTagName("Challenge")[0].textContent)}else t.headers["Content-Type"]="text/xml; charset=utf-8"}return l=Date.now(),we(e,2),Te(e,a.G.Ob.request(2,d).promise,4);case 4:c=e.h,Se(e,3);break;case 2:return d=xe(e),h=new ke(2,6,6007,d),a.m(h),u&&u.cb&&u.cb.reject(h),e.return();case 3:return a.j.g?e.return():(a.J+=(Date.now()-l)/1e3,a.h.logLicenseExchange&&cn(c.data),we(e,5),Te(e,s.update(c.data),7));case 7:Se(e,6);break;case 5:return h=xe(e),f=new ke(2,6,6008,h.message),a.m(f),u&&u.cb&&u.cb.reject(f),e.return();case 6:if(a.j.g)return e.return();f=new P("drmsessionupdate"),a.G.onEvent(f),u&&(u.cb&&u.cb.resolve(),new M(function(){u.loaded=!0,$r(a)&&a.s.resolve()}).R(Zr)),Ae(e)}})}function Xr(o,e){e=e.target;var s=o.i.get(e),u=!1,t=(e.keyStatuses.forEach(function(e,t){var n,i,r,a;"string"==typeof t&&(n=t,t=e,e=n),Gr(o.g.keySystem)&&16==t.byteLength&&(navigator.userAgent.match(/Edge?\//)||qt())&&(i=(n=jt(t)).getUint32(0,!0),r=n.getUint16(4,!0),a=n.getUint16(6,!0),n.setUint32(0,i,!1),n.setUint16(4,r,!1),n.setUint16(6,a,!1)),"status-pending"!=e&&(s.loaded=!0),"expired"==e&&(u=!0),t=fn(t).slice(0,32),o.aa.set(t,e)}),e.expiration-Date.now());(t<0||u&&t<1e3)&&s&&!s.cb&&(o.i.delete(e),e.close().catch(function(){})),$r(o)&&(o.s.resolve(),o.P.R(ea))}function Wr(a){var t;return Ie(function(e){return t=Array.from(a.i.entries()),a.i.clear(),Te(e,Promise.all(t.map(function(e){var i=(e=Ee(e)).next().value,r=e.next().value;return Ie(function(e){return 1==e.g?(we(e,2),a.$||a.F.includes(i.sessionId)||"persistent-license"!==r.type?Te(e,(t=i,Ie(function(e){return 1==e.g?(n=new Promise(function(e,t){new M(t).R(Jr)}),we(e,2),Te(e,Promise.race([Promise.all([t.close(),t.closed]),n]),4)):2!=e.g?Se(e,0):(xe(e),void Ae(e))})),5):Te(e,i.remove(),5)):2!=e.g?Se(e,0):(xe(e),void Ae(e));var t,n})})),0)})}function qr(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],i=(e=Ee(e)).next();!i.done;i=e.next())for(var i=i.value,r={},a=Ee(t),o=a.next();!o.done;r={Ua:r.Ua},o=a.next())if(o=o.value,i.keySystem==o.keySystem){r.Ua=[],r.Ua=r.Ua.concat(i.initData||[]),r.Ua=r.Ua.concat(o.initData||[]),r.Ua=r.Ua.filter(function(n){return function(t,e){return void 0===t.keyId||e===n.Ua.findIndex(function(e){return e.keyId===t.keyId})}}(r)),a=i.keyIds&&o.keyIds?new Set([].concat(I(i.keyIds),I(o.keyIds))):i.keyIds||o.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,serverCertificateUri:i.serverCertificateUri||o.serverCertificateUri,initData:r.Ua,keyIds:a});break}return n}function Yr(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function $r(e){for(var t=e=e.i.values(),n=function(e){return e.loaded},i=(t=Ee(t)).next();!i.done;i=t.next())if(!n(i.value))return;return 1}function Qr(e,t,n,i,r,a){for(var o={},s=(e=Ee(e)).next();!s.done;o={Fa:o.Fa},s=e.next()){if(o.Fa=s.value,t.includes(o.Fa.licenseServerUri)||t.push(o.Fa.licenseServerUri),i.includes(o.Fa.serverCertificateUri)||i.push(o.Fa.serverCertificateUri),!o.Fa.serverCertificate||n.some(function(t){return function(e){return Dt(e,t.Fa.serverCertificate)}}(o))||n.push(o.Fa.serverCertificate),o.Fa.initData)for(var s={},u=Ee(o.Fa.initData),l=u.next();!l.done;s={ed:s.ed},l=u.next())s.ed=l.value,r.some(function(n){return function(e){var t=n.ed;return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&Dt(e.initData,t.initData)}}(s))||r.push(s.ed);if(o.Fa.keyIds)for(u=(s=Ee(o.Fa.keyIds)).next();!u.done;u=s.next())a.add(u.value)}}(n=Pr.prototype).destroy=function(){return this.j.destroy()},n.configure=function(e){this.h=e},n.Bc=function(t){var n,i=this;return Ie(function(e){if(1==e.g)return i.C?(i.l=t,i.B.Da(i.l,"play",function(){for(var e=Ee(i.K),t=e.next();!t.done;t=e.next())Hr(i,t.value);i.O=!0,i.K=[]}),"webkitCurrentPlaybackTargetIsWireless"in i.l&&i.B.o(i.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return Wr(i)}),(n=i.g.initData.find(function(e){return 0<e.initData.length}))||"com.apple.fps"!==i.g.keySystem||i.F.length?Te(e,Ur(i),2):e.D(2)):(i.B.Da(t,"encrypted",function(){i.m(new ke(2,6,6010))}),e.return());Br(i),n||i.F.length||i.h.parseInbandPsshEnabled||i.B.o(i.l,"encrypted",function(e){return t=i,n=e,Ie(function(e){if(1==e.g)return Te(e,Ur(t),2);Fr(t,n.initDataType,O(n.initData)),Ae(e)});var t,n}),Ae(e)})},n.Gc=function(){for(var e=1/0,t=this.i.keys(),n=(t=Ee(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},n.ud=function(){return er(this.Z)};var Jr=1,Zr=5,ea=.5,ta=new Ft(function(){return Ut(new Uint8Array([0]))});function na(){}function ia(t,n,i,r){var a,o;return Ie(function(e){if(1==e.g)return r&&(a=oa[r.toLowerCase()])?e.return(a):(a=aa(t))&&(o=sa[a])?e.return(o):r?e.D(2):Te(e,ra(t,n,i),3);if(2!=e.g&&(r=e.h)&&(o=oa[r]))return e.return(o);throw new ke(2,4,4e3,t)})}function ra(t,n,i){var r,a;return Ie(function(e){return 1==e.g?((r=Vi([t],i)).method="HEAD",Te(e,n.request(0,r).promise,2)):(r=e.h,a=r.headers["content-type"],e.return(a?a.toLowerCase().split(";").shift():""))})}function aa(e){return 1==(e=new he(e).Ha.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}t("shaka.media.ManifestParser",na),na.unregisterParserByMime=function(e){delete oa[e]},na.registerParserByMime=function(e,t){oa[e]=t},na.registerParserByExtension=function(e,t){sa[e]=t};var oa={},sa={};function ua(e){function t(){r=!0}function n(e){a.push(e),rr(e)}e=O(e);var i,r=!1,a=[],o=[];if((new ir).box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).S("stsd",function(e){i=e,a.push(e),ar(e)}).S("encv",t).S("enca",t).S("hev1",function(e){o.push({box:e,Pb:1701733238})}).S("hvc1",function(e){o.push({box:e,Pb:1701733238})}).S("avc1",function(e){o.push({box:e,Pb:1701733238})}).S("avc3",function(e){o.push({box:e,Pb:1701733238})}).S("ac-3",function(e){o.push({box:e,Pb:1701733217})}).S("ec-3",function(e){o.push({box:e,Pb:1701733217})}).S("mp4a",function(e){o.push({box:e,Pb:1701733217})}).parse(e),r)return e;if(0==o.length||!i)throw fn(e),new ke(2,3,3019);o.reverse();for(var s=Ee(o),u=s.next();!u.done;u=s.next())u=u.value,e=function(e,t,n,i,r){var a=ca.value(),o=e.subarray(n.start,n.start+n.size),s=jt(o),u=new Uint8Array(n.size+a.byteLength);for(u.set(o,0),(o=jt(u)).setUint32(4,r),u.set(a,n.size),r=s.getUint32(4),o.setUint32(n.size+16,r),la(u,0,u.byteLength),r=new Uint8Array(e.byteLength+u.byteLength),n=Vt()?n.start:n.start+n.size,a=e.subarray(n),r.set(e.subarray(0,n)),r.set(u,n),r.set(a,n+u.byteLength),e=Ee(i),i=e.next();!i.done;i=e.next())i=i.value,la(r,i.start,i.size+u.byteLength);return u=jt(r,t.start),t=cr(t),e=u.getUint32(t),u.setUint32(t,e+1),r}(e,i,u.box,a,u.Pb);return e}function la(e,t,n){0!=(t=(e=jt(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}var ca=new Ft(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function da(e,t,n,i,r){if(r<=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some(function(e){return null!=e&&""!=e.g.trim()})){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some(function(e){return null!=e&&""!=e.g.trim()})){o=s;break}if(-1===a||-1===o)return null;for(var u=s=!1,l="white",c="black",d=ha(i,r,s,u,l,c);a<=o;a++){for(var h,f,p,g,m=n[a],v=-1,y=-1,b=0;b<m.length;b++)if(null!=m[b]&&""!==m[b].g.trim()){v=b;break}for(b=m.length-1;0<=b;b--)if(null!=m[b]&&""!==m[b].g.trim()){y=b;break}if(-1===v||-1===y)m=fa(i,r),e.nestedCues.push(m);else{for(;v<=y;v++)(b=m[v])?(h=b.l,f=b.i,p=b.j,g=b.h,h==s&&f==u&&p==l&&g==c||(d.payload&&e.nestedCues.push(d),d=ha(i,r,h,f,p,g),s=h,u=f,l=p,c=g),d.payload+=b.g):d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=fa(i,r),e.nestedCues.push(d)),d=ha(i,r,s,u,l,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function ha(e,t,n,i,r,a){return e=new _(e,t,""),n&&e.textDecoration.push("underline"),i&&(e.fontStyle="italic"),e.color=r,e.backgroundColor=a,e}function fa(e,t){return(e=new _(e,t,"")).lineBreak=!0,e}function pa(e,t,n,i,r){this.g=e,this.l=t,this.i=n,this.h=i,this.j=r}function ga(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.s="black",va(this)}function ma(e,t,n){return da(new _(t,n,""),"CC"+(e.C<<1|e.B+1),e.i,t,n)}function va(e){Ea(e,0,15),e.g=1}function ya(e,t,n){if(!(n<32||127<n)){var i="";switch(t){case Ta:i=xa.has(n)?xa.get(n):String.fromCharCode(n);break;case Aa:i=Ia.get(n);break;case wa:e.i[e.g].pop(),i=ka.get(n);break;case Sa:e.i[e.g].pop(),i=Ca.get(n)}i&&e.i[e.g].push(new pa(i,e.m,e.j,e.s,e.l))}}function ba(e,t,n,i){if(!(n<0||t<0))if(n<=t)for(--i;0<=i;i--)e.i[t+i]=e.i[n+i].map(function(e){return e});else for(var r=0;r<i;r++)e.i[t+r]=e.i[n+r].map(function(e){return e})}function Ea(e,t,n){for(var i=0;i<=n;i++)e.i[t+i]=[]}var Ta=0,Aa=1,wa=2,Sa=3,xa=new Map([[39,"â€™"],[42,"Ã¡"],[92,"Ã©"],[92,"Ã©"],[94,"Ã­"],[95,"Ã³"],[96,"Ãº"],[123,"Ã§"],[124,"Ã·"],[125,"Ã‘"],[126,"Ã±"],[127,"â–ˆ"]]),Ia=new Map([[48,"Â®"],[49,"Â°"],[50,"Â½"],[51,"Â¿"],[52,"â„¢"],[53,"Â¢"],[54,"Â£"],[55,"â™ª"],[56,"Ã "],[57,"â €"],[58,"Ã¨"],[59,"Ã¢"],[60,"Ãª"],[61,"Ã®"],[62,"Ã´"],[63,"Ã»"]]),ka=new Map([[32,"Ã"],[33,"Ã‰"],[34,"Ã“"],[35,"Ãš"],[36,"Ãœ"],[37,"Ã¼"],[38,"â€˜"],[39,"Â¡"],[40,"*"],[41,"'"],[42,"â”€"],[43,"Â©"],[44,"â„ "],[45,"Â·"],[46,"â€œ"],[47,"â€"],[48,"Ã€"],[49,"Ã‚"],[50,"Ã‡"],[51,"Ãˆ"],[52,"ÃŠ"],[53,"Ã‹"],[54,"Ã«"],[55,"ÃŽ"],[56,"Ã"],[57,"Ã¯"],[58,"Ã”"],[59,"Ã™"],[60,"Ã¹"],[61,"Ã›"],[62,"Â«"],[63,"Â»"]]),Ca=new Map([[32,"Ãƒ"],[33,"Ã£"],[34,"Ã"],[35,"ÃŒ"],[36,"Ã¬"],[37,"Ã’"],[38,"Ã²"],[39,"Ã•"],[40,"Ãµ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ã„"],[49,"Ã¤"],[50,"Ã–"],[51,"Ã¶"],[52,"ÃŸ"],[53,"Â¥"],[54,"Â¤"],[55,"â”‚"],[56,"Ã…"],[57,"Ã¥"],[58,"Ã˜"],[59,"Ã¸"],[60,"â”Œ"],[61,"â”"],[62,"â””"],[63,"â”˜"]]);function Ma(e,t){this.h=_a,this.s=new ga(e,t),this.i=new ga(e,t),this.l=new ga(e,t),this.g=this.i,this.j=0,this.m=null}function La(e,t,n){e.g=e.i;var i=e.g,r=null;return e.h!==Da&&e.h!==Oa&&(r=ma(i,e.j,n),(n=e.i).g=0<n.h?n.h:0,Ea(n,0,15),(n=e.l).g=0<n.h?n.h:0,Ea(n,0,15),i.g=15),e.h=Da,i.h=t,r}function Na(e){e.h=Pa,e.g=e.l,e.g.h=0}function Ra(e){ae("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.s,e.h=Oa}var _a=0,Pa=1,Da=3,Oa=4,Ua="black green blue cyan red yellow magenta black".split(" "),ja="white green blue cyan red yellow magenta white_italics".split(" ");function Ba(){this.l=!1,this.F=this.H=0,this.G=Wa,this.i=[],this.g=this.h=this.j=0,this.C=this.s=!1,this.B="white",this.m="black",Fa(this)}function Fa(e){e.i=[];for(var t=0;t<16;t++)e.i.push(Ga())}function Ga(){for(var e=[],t=0;t<42;t++)e.push(null);return e}function Ka(e,t){za(e)&&(e.i[e.h][e.g]=new pa(t,e.C,e.s,e.m,e.B),e.g++)}function za(e){var t=e.g<e.F&&0<=e.g;return e.h<e.H&&0<=e.h&&t}function Va(e,t,n){var i=new _(e.j,t,"");return i.textAlign=e.G===Ha?"left":e.G===Xa?"right":vt,(n=da(i,"svc"+n,e.i,e.j,t))&&(e.j=t),n}Ba.prototype.isVisible=function(){return this.l};var Ha=0,Xa=1,Wa=2;function qa(){this.i=[],this.h=null,this.g=0}function Ya(e){this.g=0,this.h=e}function $a(e){if(e.xa())return e.h[e.g++];throw new ke(2,2,3e3)}function Qa(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Ja(e,t){for(var n=[],i=0;i<8;i++)1==(1&t)&&e.h[i]&&n.push(i),t>>=1;return n}function Za(e,t,n){for(var i=null,r=(t=Ee(Ja(e,t))).next();!r.done;r=t.next()){var r=r.value,a=e.h[r];a.isVisible()&&(i=Va(a,n,e.i)),e.h[r]=null}return i}function eo(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function to(e,t,n){var i={0:0,1:0,2:1,3:1};return io[(e=i[e])<<2|(t=i[t])<<1|(n=i[n])]}Ya.prototype.xa=function(){return this.g<this.h.length},Ya.prototype.ma=function(){return this.g},Ya.prototype.skip=function(e){if(this.g+e>this.h.length)throw new ke(2,2,3e3);this.g+=e};var no=new Map([[32," "],[33," "],[37,"â€¦"],[42,"Å "],[44,"Å’"],[48,"â–ˆ"],[49,"â€˜"],[50,"â€™"],[51,"â€œ"],[52,"â€"],[53,"â€¢"],[57,"â„¢"],[58,"Å¡"],[60,"Å“"],[61,"â„ "],[63,"Å¸"],[118,"â…›"],[119,"â…œ"],[120,"â…"],[121,"â…ž"],[122,"â”‚"],[123,"â”"],[124,"â””"],[125,"â”€"],[126,"â”˜"],[127,"â”Œ"]]),io="black blue green cyan red magenta yellow white".split(" ");function ro(){this.h=[],this.g=[],this.i=new qa,this.l=0,this.B=new Map([["CC1",new Ma(0,0)],["CC2",new Ma(0,1)],["CC3",new Ma(1,0)],["CC4",new Ma(1,1)]]),this.s=this.m=0,this.j=new Map,ao(this)}function ao(e){e.m=0,e.s=0;for(var t=(e=Ee(e.B.values())).next();!t.done;t=e.next())(t=t.value).h=2,t.g=t.i,t.m=null,va(t.i),va(t.l),va(t.s)}function oo(e){function t(e,t){return e.pts-t.pts||e.order-t.order}var n=[];e.h.sort(t),e.g.sort(t);for(var i,r,a=Ee(e.h),o=a.next();!o.done;o=a.next())(o=function(e,t){var n=t.type;{var i;16==(112&t.Oa)&&(i=t.Oa>>3&1,0===n?e.m=i:e.s=i)}if(n=e.B.get("CC"+(n<<1|(n?e.s:e.m)+1)),255===t.Oa&&255===t.hb||!t.Oa&&!t.hb||!so(t.Oa)||!so(t.hb))return 45<=++e.l&&ao(e),null;if(e.l=0,t.Oa&=127,t.hb&=127,!t.Oa&&!t.hb)return null;if(e=null,16==(112&t.Oa))e:{if(i=t.Oa,e=t.hb,n.m===(i<<8|e))n.m=null;else if(n.m=i<<8|e,16==(240&i)&&64==(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&i)<<1|e>>5&1];var r,a=(30&e)>>1,o=!(i="white");a<7?i=ja[a]:7===a&&(o=!0),e=1==(1&e),n.h!==Oa&&(a=n.g,n.h===Da&&t!==a.g&&(r=1+t-a.h,ba(a,r,1+a.g-a.h,a.h),Ea(a,0,r-1),Ea(a,t+1,15-t)),a.g=t,n.g.m=e,n.g.j=o,n.g.l=i,n.g.s="black")}else if(17==(247&i)&&32==(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",ya(n.g,Ta,32),i=!1,"white_italics"===(t=ja[(14&e)>>1])&&(t="white",i=!0),n.g.m=1==(1&e),n.g.j=i,n.g.l=t;else if(16==(247&i)&&32==(240&e)||23==(247&i)&&45==(255&e))t="black",0==(7&i)&&(t=Ua[(14&e)>>1]),n.g.s=t;else if(17==(247&i)&&48==(240&e))ya(n.g,Aa,e);else if(18==(246&i)&&32==(224&e))ya(n.g,1&i?Sa:wa,e);else if(20==(246&i)&&32==(240&e)){switch(e=t.pts,i=null,t.hb){case 32:Na(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:i=La(n,2,e);break;case 38:i=La(n,3,e);break;case 39:i=La(n,4,e);break;case 40:ya(n.g,Ta,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.j=e;break;case 42:va(n.s),Ra(n);break;case 43:Ra(n);break;case 44:t=n.i,i=null,n.h!==Oa&&(i=ma(t,n.j,e)),Ea(t,0,15);break;case 45:t=n.g,n.h!==Da?i=null:(i=ma(t,n.j,e),o=t.g-t.h+1,ba(t,o-1,o,t.h),Ea(t,0,o-1),Ea(t,t.g,15-t.g),n.j=e);break;case 46:Ea(n.l,0,15);break;case 47:t=null,n.h!==Oa&&(t=ma(n.i,n.j,e)),i=n.l,n.l=n.i,n.i=i,Na(n),n.j=e,i=t}e=i;break e}e=null}else i=t.hb,ya(n.g,Ta,t.Oa),ya(n.g,Ta,i);return e}(e,o.value))&&n.push(o);for(a=Ee(e.g),o=a.next();!o.done;o=a.next())i=e.i,3===(r=o.value).type?(i.g=2*(63&r.value)-1,i.h=[]):i.h&&(0<i.g&&(i.h.push(r),i.g--),0===i.g&&(i.i.push(new Ya(i.h)),i.h=null,i.g=0));for(o=(a=Ee(e.i.i)).next();!o.done;o=a.next())o=function(e,t){var n=[];try{for(;t.xa();){var i=$a(t).value,r=(224&i)>>5,a=31&i;if(0!=(r=7===r&&0!=a?63&$a(t).value:r)){e.j.has(r)||e.j.set(r,new Qa(r));for(var o=e.j.get(r),s=t.ma();t.ma()-s<a;){var u,l,c=$a(r=t),d=c.value,h=c.pts;if(16===d&&(u=$a(r),d=d<<16|u.value),0<=d&&d<=31){var f=h;if(o.g){var p=o.g;switch(r=null,d){case 8:!za(p)||p.g<=0&&p.h<=0||(p.g<=0?(p.g=p.F-1,p.h--):p.g--,p.i[p.h][p.g]=null);break;case 13:if(p.isVisible()&&(r=Va(p,f,o.i)),p.h+1>=p.H){f=p;for(var g=0,m=1;m<16;m++,g++)f.i[g]=f.i[m];for(m=0;m<1;m++,g++)f.i[g]=Ga()}else p.h++;p.g=0;break;case 14:p.isVisible()&&(r=Va(p,f,o.i)),p.i[p.h]=Ga(),p.g=0;break;case 12:p.isVisible()&&(r=Va(p,f,o.i)),Fa(p),(f=p).h=0,f.g=0}var v=r}else v=null}else v=128<=d&&d<=159?function(e,t,n,i){if(128<=n&&n<=135)e.h[i=7&n]&&(e.g=e.h[i]);else{if(136===n){n=$a(t).value,t=null;for(var r=(n=Ee(Ja(e,n))).next();!r.done;r=n.next())(r=e.h[r.value]).isVisible()&&(t=Va(r,i,e.i)),Fa(r);return t}if(137===n)for(n=(t=Ee(Ja(e,t=$a(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=i),n.l=!0;else{if(138===n){for(n=$a(t).value,t=null,r=(n=Ee(Ja(e,n))).next();!r.done;r=n.next())(r=e.h[r.value]).isVisible()&&(t=Va(r,i,e.i)),r.l=!1;return t}if(139===n){for(n=$a(t).value,t=null,r=(n=Ee(Ja(e,n))).next();!r.done;r=n.next())(r=e.h[r.value]).isVisible()?t=Va(r,i,e.i):r.j=i,r.l=!r.l;return t}if(140===n)return Za(e,t=$a(t).value,i);if(143===n)return i=Za(e,255,i),eo(e),i;var a,o;144===n?(t.skip(1),i=$a(t).value,e.g&&(e.g.s=0<(128&i),e.g.C=0<(64&i))):145===n?(i=$a(t).value,n=$a(t).value,t.skip(1),e.g&&(t=to((48&n)>>4,(12&n)>>2,3&n),e.g.B=to((48&i)>>4,(12&i)>>2,3&i),e.g.m=t)):146===n?(i=$a(t).value,t=$a(t).value,e.g&&((e=e.g).h=15&i,e.g=63&t)):151===n?(t.skip(1),t.skip(1),i=$a(t).value,t.skip(1),e.g&&(e.g.G=3&i)):152<=n&&n<=159&&((r=null!==e.h[n=(15&n)-8])||((a=new Ba).j=i,e.h[n]=a),i=$a(t).value,$a(t),$a(t),a=$a(t).value,o=$a(t).value,t=$a(t).value,r&&0==(7&t)||((t=e.h[n]).h=0,t.g=0,t.C=!1,t.s=!1,t.B="white",t.m="black"),(t=e.h[n]).l=0<(32&i),t.H=1+(15&a),t.F=1+(63&o),e.g=e.h[n])}}return null}(o,r,d,h):(4096<=d&&d<=4127?8<=(f=255&d)&&f<=15?r.skip(1):16<=f&&f<=23?r.skip(2):24<=f&&f<=31&&r.skip(3):4224<=d&&d<=4255?128<=(f=255&d)&&f<=135?r.skip(4):136<=f&&f<=143&&r.skip(5):32<=d&&d<=127?(r=d,o.g&&Ka(o.g,127===r?"â™ª":String.fromCharCode(r))):160<=d&&d<=255?o.g&&Ka(o.g,String.fromCharCode(d)):4128<=d&&d<=4223?(r=255&d,o.g&&(no.has(r)?(l=no.get(r),Ka(o.g,l)):Ka(o.g,"_"))):4256<=d&&d<=4351&&o.g&&Ka(o.g,160!=(255&d)?"_":"[CC]"),null);(r=v)&&n.push(r)}}}}catch(e){if(!(e instanceof ke&&3e3===e.code))throw e;ae("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}(e,o.value),n.push.apply(n,I(o));return e.i.i=[],e.h=[],e.g=[],n}function so(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function uo(){}function lo(e,t){var n=null,i=null,r=null,a=e.N();return 1&t&&(r=e.Cb()),2&t&&e.skip(4),{trackId:a,Bf:n=8&t?e.N():n,wg:i=16&t?e.N():i,rj:r}}function co(e,t){return{qf:1==t?e.Cb():e.N()}}function ho(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.N()}}function fo(e,t,n){var i=e.N(),r=[],a=null;1&n&&(a=e.N()),4&n&&e.skip(4);for(var o=0;o<i;o++){var s={Fe:null,sampleSize:null,Ld:null};256&n&&(s.Fe=e.N()),512&n&&(s.sampleSize=e.N()),1024&n&&e.skip(4),2048&n&&(s.Ld=0==t?e.N():e.Rf()),r.push(s)}return{wj:i,Tf:r,vg:a}}function po(){this.j=new Map,this.i=this.h=0,this.g=go}uo.prototype.init=function(){},uo.prototype.parse=function(){return[]},po.prototype.init=function(e){function t(e){(e=e.name)in yo&&(n.g=yo[e])}var n=this,i=[],r=[];if((new ir).box("moov",rr).box("mvex",rr).S("trex",function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.N(),t=t.N(),n.h=e,n.i=t}).box("trak",rr).S("tkhd",function(e){var t=e.reader;1==e.version?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4)),e=t.N(),i.push(e)}).box("mdia",rr).S("mdhd",function(e){e=ho(e.reader,e.version),r.push(e.timescale)}).box("minf",rr).box("stbl",rr).S("stsd",ar).box("avc1",t).box("avc3",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("encv",or).box("sinf",rr).box("frma",function(e){(e=lr(e=e.reader.N()))in yo&&(n.g=yo[e])}).parse(e,!0),!i.length||!r.length||i.length!=r.length)throw new ke(2,2,2010);this.g==go&&k("Unable to determine bitstream format for CEA parsing!"),i.forEach(function(e,t){n.j.set(e,r[t])})},po.prototype.parse=function(e){var g=this;if(this.g==go)return[];var m=[],v=this.h,y=this.i,b=[],E=null,T=null,A=null,w=9e4;return(new ir).box("moof",function(e){E=e.start,rr(e)}).box("traf",rr).S("trun",function(e){e=fo(e.reader,e.version,e.flags),b=e.Tf,T=e.vg}).S("tfhd",function(e){e=lo(e.reader,e.flags),v=e.Bf||g.h,y=e.wg||g.i,e=e.trackId,g.j.has(e)&&(w=g.j.get(e))}).S("tfdt",function(e){A=co(e.reader,e.version).qf}).box("mdat",function(e){if(null===A)throw new ke(2,2,2010);e:{var t=e.reader,n=A,i=w,r=v,a=y,o=b,s=0,u=a;for(o.length&&(u=o[0].sampleSize||a),t.skip((E||0)+(T||0)-e.start-8);t.xa();){e=t.N();var l=t.ob();switch(g.g){case mo:l=6==(l&=31);break;case vo:l=39==(l=l>>1&63)||40==l;break;default:break e}if(l){l=0;for(var c,l=(n+(l=o.length>s?o[s].Ld||0:l))/i,d=[],h=t.Bb(e-1),f=c=0;f<h.length;)2==c&&3==h[f]?(c=0,(h=[].concat(I(h))).splice(f,1),h=new Uint8Array(h)):0==h[f]?c++:c=0,f++;for(c=h,f=0;f<c.length;){for(h=0;255==c[f];)h+=255,f++;h+=c[f++];for(var p=0;255==c[f];)p+=255,f++;p+=c[f++],4==h&&d.push(c.subarray(f,f+p)),f+=p}for(c=(d=Ee(d)).next();!c.done;c=d.next())m.push({rh:c.value,pts:l})}else try{t.skip(e-1)}catch(e){break}0==(u-=e+4)&&(n=o.length>s?n+(o[s].Fe||r):n+r,s++,u=o.length>s&&o[s].sampleSize||a)}}}).parse(e,!1),m};var go=0,mo=1,vo=2,yo={avc1:mo,avc3:mo,hev1:vo,hvc1:vo,dvh1:vo,dvhe:vo};function bo(e){this.h=new uo,e.includes("video/mp4")&&(this.h=new po),this.g=new ro}function Eo(e,t,n,i,r){this.Pa=e,this.Ta=t,this.Ba=n,this.ve=void 0===i?null:i,this.timescale=r}function N(e,t,n,i,r,a,o,s,u,l,c,d,h,f,p){l=void 0===l?[]:l,f=void 0===f?To:f,this.startTime=e,this.j=this.endTime=t,this.C=n,this.Ta=i,this.Ba=r,this.h=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u,this.i=l,this.tilesLayout=void 0===c?"":c,this.B=void 0===d?null:d,this.g=void 0===h?null:h,this.status=f,this.l=void 0===p?null:p,this.s=null,this.m=0}bo.prototype.init=function(e){this.h.init(e)},Eo.prototype.Jc=function(){return this.Ta},Eo.prototype.Fc=function(){return this.Ba},t("shaka.media.InitSegmentReference",Eo),Eo.prototype.getEndByte=Eo.prototype.Fc,Eo.prototype.getStartByte=Eo.prototype.Jc,(n=N.prototype).Pa=function(){return this.C()},n.getStartTime=function(){return this.startTime},n.Ig=function(){return this.endTime},n.Jc=function(){return this.Ta},n.Fc=function(){return this.Ba},n.ah=function(){return this.tilesLayout},n.$g=function(){return this.B},n.ec=function(){return this.status},n.kh=function(){this.status=Ao},n.$f=function(e){this.s=e},n.Yg=function(){return this.s},n.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=Ee(this.i),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.j+=e},n.Ue=function(e){null==this.g?re("Sync attempted without sync time!"):(e=this.g-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},t("shaka.media.SegmentReference",N),N.prototype.syncAgainst=N.prototype.Ue,N.prototype.getThumbnailSprite=N.prototype.Yg,N.prototype.setThumbnailSprite=N.prototype.$f,N.prototype.markAsUnavailable=N.prototype.kh,N.prototype.getStatus=N.prototype.ec,N.prototype.getTileDuration=N.prototype.$g,N.prototype.getTilesLayout=N.prototype.ah,N.prototype.getEndByte=N.prototype.Fc,N.prototype.getStartByte=N.prototype.Jc,N.prototype.getEndTime=N.prototype.Ig,N.prototype.getUris=N.prototype.Pa;var To=0,Ao=1;function wo(e){return!e||1==e.length&&e.end(0)-e.start(0)<1e-6?null:1==e.length&&e.start(0)<0?0:e.length?e.start(0):null}function So(e){return e&&!(1==e.length&&e.end(0)-e.start(0)<1e-6)&&e.length?e.end(e.length-1):null}function xo(e,t){return!(!e||!e.length||1==e.length&&e.end(0)-e.start(0)<1e-6||t>e.end(e.length-1))&&t>=e.start(0)}function Io(e,t){if(!e||!e.length||1==e.length&&e.end(0)-e.start(0)<1e-6)return 0;for(var n=0,i=(e=Ee(ko(e))).next();!i.done;i=e.next()){var r=i.value,i=r.start;t<(r=r.end)&&(n+=r-Math.max(i,t))}return n}function ko(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Co(){}function Mo(e,t){var n=(127&e[t])<<21;return(n=(n|=(127&e[t+1])<<14)|(127&e[t+2])<<7)|127&e[t+3]}function Lo(e){for(var t=0,n=[];t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128;){var i=Mo(e,t+6);for(e[t+5]>>6&1&&(t+=10),i=(t+=10)+i;t+10<i;){var r=e.subarray(t),a=Mo(r,4);(a=function(e){var t={key:e.type,description:"",data:""};if("TXXX"!==e.type)return"WXXX"===e.type?e.size<2||3!==e.data[0]||-1===(n=e.data.subarray(1).indexOf(0))?null:(i=tn(O(e.data,1,n)),e=tn(O(e.data,2+n)).replace(/\0*$/,""),t.description=i,t.data=e,t):"PRIV"===e.type?e.size<2||-1===(i=e.data.indexOf(0))?null:(i=tn(O(e.data,0,i)),e=Ut(e.data.subarray(i.length+1)),t.description=i,t.data=e,t):"T"===e.type[0]?e.size<2||3!==e.data[0]?null:(e=tn(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=tn(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=Ut(e.data),t):null;if(e.size<2||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var i=tn(O(e.data,1,n));return e=tn(O(e.data,2+n)).replace(/\0*$/,""),t.description=i,t.data=e,t}(r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:a,data:r.subarray(10,10+a)}))&&n.push(a),t+=r.size+10}t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128&&(t+=10)}return n}function No(){this.s=null,this.B=!1,this.l=this.m=null,this.F=[],this.g=this.h=null,this.C=[],this.j=null,this.i=[]}function Ro(e){if(1!=(e[0]<<16|e[1]<<8|e[2]))return null;var t={data:new Uint8Array(0),vj:6+(e[4]<<8|e[5]),pts:null,dts:null},n=e[7];return 192&n&&(t.pts=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,t.dts=t.pts,64&n&&(t.dts=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)),t.data=e.subarray(9+e[8]),t}function _o(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1}function Po(e,t,n){this.g=null,this.i=-1,this.j=e,this.h=t,this.l=n,"undefined"==typeof libDPIModule&&k("Could not Find LCEVC Library dependencies on this page"),"undefined"==typeof LcevcDil?k("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||k(LcevcDil.SupportObject.SupportError),"undefined"!=typeof LcevcDil&&"undefined"!=typeof libDPIModule&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}function Do(e,t){var n=Oo;switch(t.mimeType){case"video/webm":n=Uo;break;case"video/mp4":n=jo}e.g&&(e.i=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(n))}N.Status={Vh:To,kj:Ao,Ai:2},t("shaka.util.Id3Utils",Co),Co.getID3Frames=Lo,No.prototype.parse=function(e){if(e.length<564)return this;for(var t=Math.max(0,_o(e)),n=e.length-(e.length+t)%188,i=!1,r=t;r<n;r+=188)if(71===e[r]){var a=!!(64&e[r+1]),o=((31&e[r+1])<<8)+e[r+2];if(1<(48&e[r+3])>>4){var s=r+5+e[r+4];if(s===r+188)continue}else s=r+4;switch(o){case 0:a&&(s+=e[s]+1),this.s=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.s:a&&(s+=e[s]+1);var o={audio:-1,video:-1,me:-1,audioCodec:"",videoCodec:""},u=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<u;){var l=(31&a[s+1])<<8|a[s+2];switch(a[s]){case 15:-1===o.audio&&(o.audio=l,o.audioCodec="aac");break;case 21:-1===o.me&&(o.me=l);break;case 27:-1===o.video&&(o.video=l,o.videoCodec="avc");break;case 3:case 4:-1===o.audio&&(o.audio=l,o.audioCodec="mp3");break;case 36:-1===o.video&&(o.video=l,o.videoCodec="hvc")}s+=5+((15&a[s+3])<<8|a[s+4])}a=o,null==this.l&&(this.l=a.video),null==this.g&&(this.g=a.audio),null==this.j&&(this.j=a.me),i&&!this.B&&(i=!1,r=t-188),this.B=!0;break;case this.l:a=e.subarray(s,r+188),null==this.m&&(s=Ro(a))&&null!=s.pts&&(this.m=s.pts/9e4),this.F.push(a);break;case this.g:a=e.subarray(s,r+188),null==this.h&&(s=Ro(a))&&null!=s.pts&&(this.h=s.pts/9e4),this.C.push(a);break;case this.j:this.i.push(e.subarray(s,r+188));break;default:i=!0}}return this},No.prototype.getStartTime=function(){return{audio:this.h,video:this.m}},t("shaka.util.TsParser",No),Po.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},t("shaka.lcevc.Dil",Po);var Oo=0,Uo=1,jo=2;function Bo(e,t,n,i){var r,a,c=this;this.j=e,this.H=null,this.m=t,this.h={},this.M={},this.P={},this.g=null,this.J=!1,this.V=n||function(){},this.G=i||null,this.i={},this.C=new f,this.s={},this.B=null,this.K=new U,this.l=(a=(r=this).K,e=new MediaSource,r.C.Da(e,"sourceopen",function(){URL.revokeObjectURL(r.O),a.resolve()}),r.O=is(e),r.j.src=r.O,e),this.I=new $i(function(){return t=c,Ie(function(e){if(1==e.g){for(i in n=[],t.i)for(r=t.i[i],a=r[0],t.i[i]=r.slice(0,1),a&&n.push(a.p.catch(je)),o=Ee(r.slice(1)),s=o.next();!s.done;s=o.next())u=s.value,u.p.reject(new ke(2,7,7003,void 0));for(l in t.g&&n.push(t.g.destroy()),t.m&&n.push(t.m.destroy()),t.s)n.push(t.s[l].destroy());return Te(e,Promise.all(n),2)}t.C&&(t.C.release(),t.C=null),t.j&&(t.j.removeAttribute("src"),t.j.load(),t.j=null),t.H=null,t.l=null,t.g=null,t.m=null,t.h={},t.s={},t.B=null,t.i={},t.G=null,Ae(e)});var t,n,i,r,a,o,s,u,l}),this.O="",this.F=!1,this.X=new U}function Fo(e,t,n){e.g||(e.g=new Mn(e.m));var i=e.g;e=e.J,"application/cea-608"!=t&&"application/cea-708"!=t&&(i.j=(0,_n[t])(),i.j.setSequenceMode?i.j.setSequenceMode(n):k('Text parsers should have a "setSequenceMode" method!'),i.C=e)}function Go(e){return!e.l||"ended"==e.l.readyState}function Ko(e,t){return t==D?e.g.g:wo(Vo(e,t))}function zo(e,t){return t==D?e.g.h:So(Vo(e,t))}function Vo(e,t){try{return e.h[t].buffered}catch(e){return null}}function Ho(d,h,f,p,g,m,v){var y,b,E,T,A,w,S,x,I,k,C,M,L,N;return m=void 0!==m&&m,v=void 0!==v&&v,Ie(function(e){switch(e.g){case 1:if(h!=(y=Ve).ha){e.D(2);break}if(d.F)return Te(e,d.X,4);e.D(3);break;case 4:b=e.h,d.g.B=b;case 3:return Te(e,(o=d.g,s=f,u=p?p.startTime:null,l=p?p.endTime:null,Ie(function(e){return 1==e.g?Te(e,Promise.resolve(),2):o.j&&o.i?null==u||null==l?(o.j.parseInit(O(s)),e.return()):(c=o.C?u:o.B,c={periodStart:o.B,segmentStart:u,segmentEnd:l,vttOffset:c},c=o.j.parseMedia(O(s),c),c=c.filter(function(e){return e.startTime>=o.l&&e.startTime<o.m}),o.i.append(c),null==o.g&&(o.g=Math.max(u,o.l)),o.h=Math.min(l,o.m),void Ae(e)):e.return()})),5);case 5:return e.return();case 2:if(b=O(f),w=d.M[h],d.s[h]&&(w=d.s[h].s),_o(b)<0?!as.includes(w)||(E=Lo(b)).length&&p&&(E={cueTime:p.startTime,data:b,frames:E,dts:p.startTime,pts:p.startTime},d.V([E],0,p.endTime)):(E=(new No).parse(b),A=p.startTime-(E.getStartTime()[h]||0),(T=function(e){for(var t=[],n=new Uint8Array(0),i=e.i.length-1;0<=i;i--){var r=Ro(n=pn(e.i[i],n));r&&(t.unshift({cueTime:r.pts?r.pts/9e4:null,data:r.data,frames:Lo(r.data),dts:r.dts,pts:r.pts}),n=new Uint8Array(0))}return t}(E)).length&&d.V(T,A,p?p.endTime:null)),d.s[h])return m&&d.s[h].g.resetCaptions(),Te(e,(r=d.s[h],a=f,r.j=!0,r.h=new U,r.l=[],r.i=[],a=O(a),r.g.push(a),r.g.flush(),r.j&&r.h.reject(new ke(2,3,3018)),r.h),7);g&&h==y.Ma&&(d.g||Fo(d,"text/vtt",d.F),d.B||(d.B=new bo(w)),p?(T=function(e,t){for(var n=(t=Ee(t=e.h.parse(t))).next();!n.done;n=t.next()){var i=n.value,r=O(i.rh);if(0<r.length&&(n=e.g,i=i.pts,181===(r=new B(r,0)).ob()&&49===r.Ce()&&1195456820===r.N()&&3===r.ob())){var a=r.ob();if(0!=(64&a)){a&=31,r.skip(1);for(var o=0;o<a;o++){var s=r.ob(),u=(4&s)>>2,l=r.ob(),c=r.ob();u&&(0==(s&=3)||1==s?n.h.push({pts:i,type:s,Oa:l,hb:c,order:n.h.length}):(n.g.push({pts:i,type:s,value:l,order:n.g.length}),n.g.push({pts:i,type:2,value:c,order:n.g.length})))}}}}return oo(e.g)}(d.B,f)).length&&(A=d.h[y.Ma].timestampOffset,Rn(d.g,T,p.startTime,p.endTime,A)):d.B.init(f)),e.D(6);break;case 7:w=e.h,d.g||Fo(d,"text/vtt",d.F),w.captions&&w.captions.length&&(L=d.h[y.Ma].timestampOffset,M=function(e){for(var t=[],n=(e=Ee(e)).next();!n.done;n=e.next())n=n.value,t.push({stream:n.stream,cue:new _(n.startTime,n.endTime,n.text)});return t}(w.captions),Rn(d.g,M,p?p.startTime:null,p?p.endTime:null,L)),f=w.data;case 6:if(a=d,r=f,t=p?p.startTime:null,n=h,i=a.P[n],f=r=null==t&&i&&(Ht()||Vt())&&"mp4"==a.M[n].split(";")[0].split("/")[1]?ua(r):r,S=d.h[h],x=rs,!d.F||S.mode==x||!p){e.D(8);break}if(I=d.l.duration,h==y.Ma||!(y.Ma in d.h))return k=[S.appendWindowStart,S.appendWindowEnd],S.appendWindowStart=0,S.appendWindowEnd=1/0,C=S.timestampOffset,S.timestampOffset=0,Te(e,Zo(d,h,function(){return qo(d,h,f)}),10);e.D(9);break;case 10:return Te(e,Zo(d,h,function(){return $o(d,h)}),11);case 11:return S.timestampOffset=C,S.appendWindowStart=k[0],S.appendWindowEnd=k[1],M=wo(Vo(d,h)),L=(p.startTime||0)-(M||0),d.X.resolve(L),Te(e,Zo(d,h,function(){return Yo(d,h,0,I)}),12);case 12:if(h==y.Ma)return Te(e,Zo(d,h,function(){d.j.currentTime-=.001,Jo(d,h)}),9);e.D(9);break;case 9:return S.mode=x,Te(e,d.Sa(I),8);case 8:return p&&d.F&&h!=y.ha&&(m||v)&&(N=p.startTime,Zo(d,h,function(){return $o(d,h)}),Zo(d,h,function(){return Qo(d,h,N)})),Te(e,Zo(d,h,function(){qo(d,h,f)}),16);case 16:Ae(e)}var t,n,i,r,a,o,s,u,l,c})}function Xo(t,n){return Ie(function(e){return n==Ve.ha?t.g?Te(e,t.g.remove(0,1/0),0):e.return():Te(e,Zo(t,n,function(){return Yo(t,n,0,t.l.duration)}),0)})}function Wo(i,r,a,o,s,u){return Ie(function(e){return r==Ve.ha?(u||(i.g.B=a),t=i.g,n=s,t.l=o,t.m=n,e.return()):Te(e,Promise.all([Zo(i,r,function(){return $o(i,r)}),u?Promise.resolve():Zo(i,r,function(){return Qo(i,r,a)}),Zo(i,r,function(){i.h[r].appendWindowStart=0,i.h[r].appendWindowEnd=s,i.h[r].appendWindowStart=o,Jo(i,r)})]),0);var t,n})}function qo(e,t,n){var i;"video"==t&&e.G&&(i=e.G).g&&i.g.appendBuffer(n,"video",i.i),e.h[t].appendBuffer(n)}function Yo(e,t,n,i){i<=n?Jo(e,t):e.h[t].remove(n,i)}function $o(e,t){var n=e.h[t].appendWindowStart,i=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=i,Jo(e,t)}function Qo(e,t,n){n<0&&(n+=.001),e.h[t].timestampOffset=n,Jo(e,t)}function Jo(e,t){var n=e.i[t][0];n&&(n.p.resolve(),ts(e,t))}function Zo(e,t,n){return j(e.I),n={start:n,p:new U},e.i[t].push(n),1==e.i[t].length&&ns(e,t),n.p}function es(t,n){var i,r,a,o,s;return Ie(function(e){switch(e.g){case 1:for(a in j(t.I),i=[],r={},t.h)r.yc=new U,o={start:function(e){return function(){return e.yc.resolve()}}(r),p:r.yc},t.i[a].push(o),i.push(r.yc),1==t.i[a].length&&o.start(),r={yc:r.yc};return we(e,2),Te(e,Promise.all(i),4);case 4:Se(e,3);break;case 2:throw xe(e);case 3:try{n()}catch(e){throw new ke(2,3,3015,e)}finally{for(s in t.h)ts(t,s)}Ae(e)}})}function ts(e,t){e.i[t].shift(),ns(e,t)}function ns(t,n){var i=t.i[n][0];if(i)try{i.start()}catch(e){"QuotaExceededError"==e.name?i.p.reject(new ke(2,3,3017,n)):i.p.reject(new ke(2,3,3015,e)),ts(t,n)}}(n=Bo.prototype).destroy=function(){return this.I.destroy()},n.init=function(t,n,i){i=void 0!==i&&i;var r,a,o,s,u,l,c,d=this;return Ie(function(e){if(1==e.g)return r=Ve,Te(e,d.K,2);for(d.F=i,a={},o=Ee(t.keys()),s=o.next();!s.done;a={Ea:a.Ea},s=o.next())a.Ea=s.value,u=t.get(a.Ea),l=Sn(u.mimeType,u.codecs),a.Ea==r.ha?Fo(d,l,i):(!n&&lt(l)||!bn(l,a.Ea)||(d.s[a.Ea]=new yn(l),l=Tn(a.Ea,l)),c=l+d.H.sourceBufferExtraFeatures,c=d.l.addSourceBuffer(c),d.C.o(c,"error",function(e){return function(){d.i[e.Ea][0].p.reject(new ke(2,3,3014,d.j.error?d.j.error.code:0))}}(a)),d.C.o(c,"updateend",function(e){return function(){return Jo(d,e.Ea)}}(a)),d.h[a.Ea]=c,d.M[a.Ea]=l,d.i[a.Ea]=[],d.P[a.Ea]=!!u.drmInfos.length);Ae(e)})},n.configure=function(e){this.H=e},n.ib=function(){var e,t,n={total:ko(this.j.buffered),audio:ko(Vo(this,"audio")),video:ko(Vo(this,"video")),text:[]};return this.g&&(e=this.g.g,t=this.g.h,null!=e&&null!=t&&n.text.push({start:e,end:t})),n},n.remove=function(t,n,i){var r=this;return Ie(function(e){return t==Ve.ha?Te(e,r.g.remove(n,i),0):Te(e,Zo(r,t,function(){return Yo(r,t,n,i)}),0)})},n.flush=function(t){var n=this;return Ie(function(e){return t==Ve.ha?e.return():Te(e,Zo(n,t,function(){n.j.currentTime-=.001,Jo(n,t)}),0)})},n.endOfStream=function(t){var n=this;return Ie(function(e){return Te(e,es(n,function(){Go(n)||(t?n.l.endOfStream(t):n.l.endOfStream())}),0)})},n.Sa=function(n){var i=this;return Ie(function(e){return Te(e,es(i,function(){if(n<i.l.duration)for(var e in i.h){var t={start:function(){},p:new U};i.i[e].unshift(t)}i.l.duration=n}),0)})},n.getDuration=function(){return this.l.duration};var is=R.URL.createObjectURL,rs="sequence",as=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function F(e,t,n){this.i=e,this.m=t,this.s=this.j=1/0,this.g=1,this.h=this.l=null,this.B=0,this.C=!0,this.F=0,this.G=void 0===n||n,this.H=0,this.I=!1}function os(e,t,n){this.l=n,this.j=e,this.B=us(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.s=0,this.C=t,this.i=function(){}}function ss
